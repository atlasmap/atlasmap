<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="The AtlasMap Team">
<title>AtlasMap Developer Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>AtlasMap Developer Guide</h1>
<div class="details">
<span id="author" class="author">The AtlasMap Team</span><br>
<span id="revnumber">version 1.38.0-SNAPSHOT,</span>
<span id="revdate">2018-10-04</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">AtlasMap Developer Guide</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#quickstart">2. Quickstart</a>
<ul class="sectlevel2">
<li><a href="#running-data-mapper-ui-within-syndesis">2.1. Running Data Mapper UI within Syndesis</a></li>
<li><a href="#running-atlasmap-standalone">2.2. Running AtlasMap standalone</a></li>
<li><a href="#running-atlasmap-full-build">2.3. Running AtlasMap full build</a></li>
<li><a href="#tips-for-ui-developer">2.4. Tips for UI developer</a>
<ul class="sectlevel3">
<li><a href="#developing-within-syndesis-ui">2.4.1. Developing Within Syndesis UI</a></li>
<li><a href="#debug-configuration">2.4.2. Debug Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#internal-design">3. Internal Design</a>
<ul class="sectlevel2">
<li><a href="#internal-ui">3.1. UI</a>
<ul class="sectlevel3">
<li><a href="#bootstrapping">3.1.1. BOOTSTRAPPING</a></li>
<li><a href="#model">3.1.2. MODEL</a></li>
<li><a href="#service">3.1.3. SERVICE</a></li>
</ul>
</li>
<li><a href="#internal-design-time-service">3.2. Design Time Service</a>
<ul class="sectlevel3">
<li><a href="#core-service">3.2.1. Core Service</a></li>
<li><a href="#java-service">3.2.2. Java Service</a></li>
<li><a href="#json-service">3.2.3. JSON Service</a></li>
<li><a href="#xml-service">3.2.4. XML Service</a></li>
</ul>
</li>
<li><a href="#internal-runtime-engine">3.3. Runtime Engine</a>
<ul class="sectlevel3">
<li><a href="#internal-runtime-atlasmodule">3.3.1. AtlasModule and mapping process</a></li>
<li><a href="#internal-runtime-typeconverter">3.3.2. TypeConverter</a></li>
<li><a href="#internal-runtime-fieldaction">3.3.3. FieldAction (Transformation)</a></li>
<li><a href="#internal-runtime-fieldreader">3.3.4. FieldReader</a></li>
<li><a href="#internal-runtime-fieldwriter">3.3.5. FieldWriter</a></li>
<li><a href="#internal-runtime-validation">3.3.6. Validation</a></li>
<li><a href="#internal-runtime-audit">3.3.7. Audit</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#camel-atlasmap">4. camel-atlasmap component</a></li>
<li><a href="#Reference">5. Reference</a>
<ul class="sectlevel2">
<li><a href="#a-href-inc-swagger-index-html-design-time-service-api-a">5.1. <a href="inc/swagger/index.html">Design Time Service API</a></a></li>
<li><a href="#fieldAction">5.2. Transformation (FieldAction)</a></li>
<li><a href="#a-href-javadoc-index-html-java-api-reference-javadoc-a">5.3. <a href="javadoc/index.html">Java API Reference (Javadoc)</a></a></li>
<li><a href="#terminology">5.4. Terminology</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document provides some information for the developers who is willing to contribute to AtlasMap code.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="quickstart">2. Quickstart</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-data-mapper-ui-within-syndesis">2.1. Running Data Mapper UI within Syndesis</h3>
<div class="paragraph">
<p>The easiest way to install and run Data Mapper UI is to install and run <a href="https://syndesis.io">Syndesis</a>. Simply follow the <a href="https://doc.syndesis.io">Syndesis Developer Handbook</a> to install, and run Syndesis UI. You will find the Data Mapper UI under the integrations panel after selecting or adding an integration with a data mapping step involved in the integration.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-atlasmap-standalone">2.2. Running AtlasMap standalone</h3>
<div class="paragraph">
<p>Here is the shortest path to run standalone AtlasMap.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone AtlasMap repository</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ git clone https://github.com/atlasmap/atlasmap ${ATLASMAP}</code></pre>
</div>
</div>
</li>
<li>
<p>Build AtlasMap runtime</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ cd ${ATLASMAP}
$ sh build.sh --skip-tests</code></pre>
</div>
</div>
</li>
<li>
<p>Run AtlasMap Design Service</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ cd ${ATLASMAP}/runtime/runtime
$ ../../mvnw -Pitests spring-boot:run</code></pre>
</div>
</div>
</li>
<li>
<p><a href="https://yarnpkg.com/lang/en/docs/install/">Install Yarn</a></p>
</li>
<li>
<p>In another console, install Data Mapper UI&#8217;s dependencies</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ cd ${ATLASMAP}/ui
$ yarn install</code></pre>
</div>
</div>
</li>
<li>
<p>Start Data Mapper UI</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ yarn start</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>yarn start</strong> command will attempt to automatically open your browser window, but if it doesn&#8217;t, open it directy with this URL: <a href="http://localhost:3000" class="bare">http://localhost:3000</a>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="running-atlasmap-full-build">2.3. Running AtlasMap full build</h3>
<div class="ulist">
<ul>
<li>
<p>Building everything for standalone usage</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./build.sh --skip-image-builds</code></pre>
</div>
</div>
<div class="paragraph">
<p>To see all the available options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./build.sh --help</code></pre>
</div>
</div>
</li>
<li>
<p>Resume from module</p>
<div class="paragraph">
<p>To resume from a particular module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./build.sh --skip-image-builds --resume-from ui</code></pre>
</div>
</div>
</li>
<li>
<p>Using the image streams (in case you want to build a docker image for design runtime)</p>
<div class="paragraph">
<p>To build everything using image streams (instead of directly talking to docker):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./build.sh --with-image-streams</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this assumes that you are using a template flavor that also supports image streams.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tips-for-ui-developer">2.4. Tips for UI developer</h3>
<div class="sect3">
<h4 id="developing-within-syndesis-ui">2.4.1. Developing Within Syndesis UI</h4>
<div class="paragraph">
<p>Data Mapper UI is referenced by Syndesis as a dependency. When Syndesis UI&#8217;s dependencies are installed during <strong>yarn install</strong> step, Data Mapper UI will be cloned from the NPM package repository into <strong>${SYNDESIS}/app/ui/node_modules/@atlasmap/atlasmap-data-mapper</strong> directory.</p>
</div>
<div class="paragraph">
<p>You can point your local Syndesis UI&#8217;s Data Mapper UI reference to your working copy of the Data Mapper by <a href="https://yarnpkg.com/lang/en/docs/cli/link/">yarn link</a>. You&#8217;ll do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ cd ${ATLASMAP}/ui
$ yarn build:lib
$ cd dist/lib
$ yarn link
$ cd ${SYNDESIS}/app/ui
$ yarn link @atlasmap/atlasmap-data-mapper</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that running <code>yarn install</code> in the Syndesis UI directory <strong>will remove and redownload the ${SYNDESIS}/app/ui/node_modules/@atlasmap/atlasmap-data-mapper directory</strong>, so you&#8217;d want to avoid doing it while you have <code>yarn link</code>. Instead you&#8217;d change ${ATLASMAP}/ui/src and run <code>yarn build:lib</code> to make a change in AtlasMap UI and consume it within Syndesis UI.</p>
</div>
</div>
<div class="sect3">
<h4 id="debug-configuration">2.4.2. Debug Configuration</h4>
<div class="paragraph">
<p>The Data Mapper UI features several developer-friendly debug configuration options. These configuration fields are specified on the <a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/models/config.model.ts">ConfigModel</a> class.</p>
</div>
<div class="sect4">
<h5 id="service-endpoint-configuration">Service Endpoint Configuration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>baseJavaInspectionServiceUrl</strong> - URL for the Java Inspection Service provided by the AtlasMap Services.</p>
</li>
<li>
<p><strong>baseXMLInspectionServiceUrl</strong> - URL for the XML Inspection Service provided by the AtlasMap Services.</p>
</li>
<li>
<p><strong>baseJSONInspectionServiceUrl</strong> - URL for the JSON Inspection Service provided by the AtlasMap Services.</p>
</li>
<li>
<p><strong>baseMappingServiceUrl</strong> - URL for the Mapping Service provided by the AtlasMap Services.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="mock-source-target-document-configuration">Mock Source/Target Document Configuration</h5>
<div class="paragraph">
<p>These flags control the UI automatically adding the specified mock documents to the system when the UI initializes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>addMockJavaSingleSource</strong> - Add single Java source document.</p>
</li>
<li>
<p><strong>addMockJavaSources</strong> - Add multiple Java source documents.</p>
</li>
<li>
<p><strong>addMockXMLInstanceSources</strong> - Add multiple XML instance-based source documents.</p>
</li>
<li>
<p><strong>addMockXMLSchemaSources</strong> - Add multiple XML schema-based source documents.</p>
</li>
<li>
<p><strong>addMockJSONSources</strong> - Add multiple JSON source documents.</p>
</li>
<li>
<p><strong>addMockJavaTarget</strong> - Add a Java target document.</p>
</li>
<li>
<p><strong>addMockXMLInstanceTarget</strong> - Add a XML instance target document.</p>
</li>
<li>
<p><strong>addMockXMLSchemaTarget</strong> - Add a XML schema target document.</p>
</li>
<li>
<p><strong>addMockJSONTarget</strong> - Add a JSON target document.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code that initializes these mock documents is in the <a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/services/initialization.service.ts">InitializationService</a>.
That service calls various static methods in the <a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/services/document-management.service.ts">DocumentManagementService</a> to create example XML instance, XML schema, and JSON documents.
Mock Java documents referenced are from the AtlasMap Services' <a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/modules/java/test-model/src/main/java/io/atlasmap/java/test">Atlas Java Test Model Maven Module</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="additional-debug-configuration">Additional Debug Configuration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>discardNonMockSources</strong> - Automatically discard all user-specified (or Syndesis UI-specified) source/target documents before initializing. This is helpful if you&#8217;re trying to test with mock documents alone.</p>
</li>
<li>
<p><strong>addMockJSONMappings</strong> - This flag bootstraps the UI&#8217;s mappings from the provided JSON mapping definition. Useful for repeatedly debugging a particular scenario.</p>
</li>
<li>
<p><strong>debugClassPathServiceCalls</strong> - Log details about JSON request/responses to/from the class path resolution service.</p>
</li>
<li>
<p><strong>debugDocumentServiceCalls</strong> - Log details about JSON request/responses to/from the Java/XML/JSON inspection services.</p>
</li>
<li>
<p><strong>debugMappingServiceCalls</strong> - Log details about JSON request/responses to/from the mapping service.</p>
</li>
<li>
<p><strong>debugValidationServiceCalls</strong> - Log details about JSON request/responses to/from the mapping validation service.</p>
</li>
<li>
<p><strong>debugFieldActionServiceCalls</strong> - Log details about JSON request/responses to/from the mapping field action configuration service.</p>
</li>
<li>
<p><strong>debugDocumentParsing</strong> - Log details about parsing JSON responses from the inspection services.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Data Mapper Debug Configuration within the Syndesis UI is defined within your <strong>${SYNDESIS}/ui/src/config.json</strong> file&#8217;s data mapper section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">apiEndpoint</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://syndesis-staging.b6ff.rh-idev.openshiftapps.com/api/v1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Syndesis</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">datamapper</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">baseJavaInspectionServiceUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8585/v2/atlas/java/</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">baseXMLInspectionServiceUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8585/v2/atlas/xml/</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">baseJSONInspectionServiceUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8585/v2/atlas/json/</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">baseMappingServiceUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8585/v2/atlas/</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">discardNonMockSources</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJSONMappings</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJavaSingleSource</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJavaSources</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockXMLInstanceSources</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockXMLSchemaSources</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJSONSources</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJavaTarget</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockXMLInstanceTarget</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockXMLSchemaTarget</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">addMockJSONTarget</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugDocumentServiceCalls</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugMappingServiceCalls</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugClassPathServiceCalls</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugValidationServiceCalls</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugFieldActionServiceCalls</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">debugDocumentParsing</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">oauth</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">clientId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">syndesis-ui</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">scopes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">openid</span><span class="delimiter">&quot;</span></span>],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">oidc</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">hybrid</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">issuer</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://syndesis-staging.b6ff.rh-idev.openshiftapps.com/auth/realms/syndesis</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">auto-link-github</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re running the Data Mapper UI locally outside of the Syndesis UI, the debug configuration is specified within the <a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/components/data-mapper-example-host.component.ts">DataMapperAppExampleHostComponent</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="internal-design">3. Internal Design</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AtlasMap consists of following 3 parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#internal-ui">Data Mapper UI</a></p>
</li>
<li>
<p><a href="#internal-design-time-service">Design Time Service</a></p>
</li>
<li>
<p><a href="#internal-runtime-engine">Runtime Engine</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="#internal-ui">Data Mapper UI</a> is an Angular based web browser application. <a href="#internal-design-time-service">Design Time Service</a> is a set of REST API which provide background services to be used by the Data Mapper UI behind the scene. Data Mapper UI eventually produces data mapping definition file in XML or JSON format. Then <a href="#internal-runtime-engine">Runtime Engine</a> consumes that mapping definition as well as actual data payload and perform mapping.</p>
</div>
<div class="paragraph">
<p>When data formats are provided into Data Mapper UI, it requests an inspection to Design Time Service and receives a unified metadata, called Document. For example, if the data format is provided as a JSON schema, Data Mapper UI makes a JSON schema inspection request and receive a Document object. While JSON schema is a JSON specific schema to represent message payload, Document object is an AtlasMap internal, but data format agnostic metadata so that the Data Mapper UI can consume and provide an unified mapping experience.</p>
</div>
<div class="paragraph">
<p>AtlasMap Document object defines a tree of fields. Defining a set of field-to-field mapping is all about the mappings in AtlasMap.</p>
</div>
<div class="paragraph">
<p>Another thing to know for AtlasMap internal is the modules located <a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/modules">here</a> in repository. Module in AtlasMap is a facility to plug-in an individual data format support like Java, JSON and XML. Each module implements roughly following 2 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inspection Design Time Service to convert the format specific metadata into AtlasMap Document object</p>
</li>
<li>
<p>Runtime SPI to achieve actual mappings</p>
<div class="ulist">
<ul>
<li>
<p><a href="#internal-runtime-atlasmodule">AtlasModule</a>: Several methods to be invoked during processing mappings. We&#8217;ll look into deeper in <a href="#internal-runtime-atlasmodule">AtlasModule</a> section.</p>
</li>
<li>
<p><a href="#internal-runtime-fieldreader">AtlasFieldReader</a>: Read a field value from source payload</p>
</li>
<li>
<p><a href="#internal-runtime-fieldwriter">AtlasFieldWriter</a>: Write a field value into target payload</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There is also an overview document for the Data Mapper step in Syndesis, which might help if you look into AtlasMap within Syndesis context.
<a href="https://github.com/syndesisio/syndesis/blob/master/app/server/docs/design/datamapper.md" class="bare">https://github.com/syndesisio/syndesis/blob/master/app/server/docs/design/datamapper.md</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="internal-ui">3.1. UI</h3>
<div class="paragraph">
<p>Data Mapper UI is a web based user interface to define a data mapping, built with <a href="https://angular.io/">Angular</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/atlasmap/atlasmap/blob/master/ui/" class="bare">https://github.com/atlasmap/atlasmap/blob/master/ui/</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="bootstrapping">3.1.1. BOOTSTRAPPING</h4>
<div class="paragraph">
<p>Bootstrapping the Data Mapper UI requires a bit of configuration. An example bootstrapping component is provided within the project:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/components/data-mapper-example-host.component.ts" class="bare">https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/components/data-mapper-example-host.component.ts</a></p>
</div>
</div>
<div class="sect3">
<h4 id="model">3.1.2. MODEL</h4>
<div class="paragraph">
<p>All application data and configuration is stored in a centralized ConfigModel object.</p>
</div>
<div class="paragraph">
<p>The ConfigModel contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>initialization data such as service URLs and source/target document information</p>
</li>
<li>
<p>references to our angular2 services that manage retrieving and saving our documents and mapping data</p>
</li>
<li>
<p>document / mapping model objects</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two document models contained within the ConfigModel object, both of type DocumentDefinition. A DocumentDefinition contains information about a source or target document such as the document&#8217;s name, and fields for that document. Fields are represented by our Field model.</p>
</div>
<div class="paragraph">
<p>A single MappingDefinition model in the ConfigModel object stores information about field mappings and related lookup tables. Individual mappings are represented in instances of MappingModel, and lookup tables are represented by the LookupTable model.</p>
</div>
</div>
<div class="sect3">
<h4 id="service">3.1.3. SERVICE</h4>
<div class="paragraph">
<p>When the Data Mapper UI Bootstraps, a series of service calls are made to the mapping service (<a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/services/mapping-management.service.ts">MappingManagementService</a>) and document service (<a href="https://github.com/atlasmap/atlasmap/blob/master/ui/src/app/lib/atlasmap-data-mapper/services/document-management.service.ts">DocumentManagementService</a>).</p>
</div>
<div class="paragraph">
<p>The document service is used to fetch our source/target document information (name of doc, fields). After these are parsed from the service, they are stored in the ConfigModel&#8217;s inputDoc and outputDoc DocumentDefinition models.</p>
</div>
<div class="paragraph">
<p>The mapping service is used to fetch our mappings for the fields mapped from the source to the target document. These mappings (and related lookup tables) are parsed by the management service and stored in the ConfigModel&#8217;s mappings MappingDefinition model.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="internal-design-time-service">3.2. Design Time Service</h3>
<div class="paragraph">
<p>Design Time Service is a set of REST API which provide background services to be used by the Data Mapper UI behind the scene. There are 4 types of Design Time Service:</p>
</div>
<div class="sect3">
<h4 id="core-service">3.2.1. Core Service</h4>
<div class="ulist">
<ul>
<li>
<p>Code Location: <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/service" class="bare">https://github.com/atlasmap/atlasmap/blob/master/runtime/service</a></p>
</li>
<li>
<p>API Reference: <a href="inc/swagger/index.html#core">Core Service</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Core Service provides basic operations which is not specific to the individual data formats, Create/Get/Update/Remove mapping definition stored in Design Time Service local storage, validate mapping, retrieve metadata for available field actions and etc.</p>
</div>
</div>
<div class="sect3">
<h4 id="java-service">3.2.2. Java Service</h4>
<div class="ulist">
<ul>
<li>
<p>Code Location: <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/java/service" class="bare">https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/java/service</a></p>
</li>
<li>
<p>API Reference: <a href="inc/swagger/index.html#java">Java Service</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Java Service provides Java inspection service which generate an AtlasMap Document object from Java class name.</p>
</div>
</div>
<div class="sect3">
<h4 id="json-service">3.2.3. JSON Service</h4>
<div class="ulist">
<ul>
<li>
<p>Code Location: <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/json/service" class="bare">https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/json/service</a></p>
</li>
<li>
<p>API Reference: <a href="inc/swagger/index.html#json">JSON Service</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>JSON Service provides JSON inspection service which generate an AtlasMap Document object from JSON instance or JSON schema.</p>
</div>
</div>
<div class="sect3">
<h4 id="xml-service">3.2.4. XML Service</h4>
<div class="ulist">
<ul>
<li>
<p>Code Location: <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/xml/service" class="bare">https://github.com/atlasmap/atlasmap/blob/master/runtime/modules/xml/service</a></p>
</li>
<li>
<p>API Reference: <a href="inc/swagger/index.html#xml">XML Service</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>XML Service provides XML inspection service which generate an AtlasMap Document object from XML instance or XML schema.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="internal-runtime-engine">3.3. Runtime Engine</h3>
<div class="ulist">
<ul>
<li>
<p>Code Location: <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/" class="bare">https://github.com/atlasmap/atlasmap/blob/master/runtime/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>AtlasMap runtime engine consumes mapping definition file created via <a href="#internal-ui">Data Mapper UI</a> as well as actual data payload and perform mapping.</p>
</div>
<div class="paragraph">
<p>Here is a shortest code to process a mapping using AtlasMap runtime engine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">AtlasContextFactory factory = atlasContextFactory = DefaultAtlasContextFactory.getInstance(); <i class="conum" data-value="1"></i><b>(1)</b>
AtlasContext context = factory.createContext(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">./my-mapping.xml</span><span class="delimiter">&quot;</span></span>)); <i class="conum" data-value="2"></i><b>(2)</b>
AtlasSession session = context.createSession(); <i class="conum" data-value="3"></i><b>(3)</b>
session.setSourceDocument(<span class="string"><span class="delimiter">&quot;</span><span class="content">myJsonSourceDoc</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">{...}</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
context.process(session); <i class="conum" data-value="5"></i><b>(5)</b>
<span class="predefined-type">Object</span> targetDoc = session.getTargetDocument(<span class="string"><span class="delimiter">&quot;</span><span class="content">myXmlTargetDoc</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/api/src/main/java/io/atlasmap/api/AtlasContextFactory.java">AtlasContextFactory</a> is a singleton instance on JVM, which holds global configuration for the AtlasMap.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>AtlasContextFactory#createContext(File)</code> creates <a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/api/src/main/java/io/atlasmap/api/AtlasContext.java">AtlasContext</a> which represents an AtlasMap mapping context for each mapping definitions by feeding a mapping definition file.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/api/src/main/java/io/atlasmap/api/AtlasSession.java">AtlasSession</a> represents a mapping processing session. <code>AtlasSession</code> should be created for each execution and should <strong>NOT</strong> be shared among multiple threads.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Put a source Document with a corresponding Document ID. Make sure Document ID matches with what is specified in the mapping definition.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Process a mapping by <code>AtlasContext#process(AtlasSession)</code>. This invocation also triggers <a href="#internal-runtime-validation">mapping validation</a> prior to actually perform a mapping.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Finally take the transformed document out from <code>AtlasSession</code> by specifying target Document ID.</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="internal-runtime-atlasmodule">3.3.1. AtlasModule and mapping process</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/blob/master/runtime/api/src/main/java/io/atlasmap/spi/AtlasModule.java">AtlasModule</a> is a SPI to be implemented by each modules like
<a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/modules/java">Java</a>,
<a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/modules/json">JSON</a> and
<a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/modules/xml">XML</a>. The methods defined in <code>AtlasModule</code> are invoked from <code>AtlasContext</code> while <code>AtlasContext#process(AtlasSession)</code> is in progress.</p>
</div>
<div class="paragraph">
<p><code>AtlasContext#process(AtlasSession)</code> goes on in following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AtlasContext#processValidation(AtlasSession)</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>AtlasValidationService.validateMapping(AtlasMapping)</code> validates mapping definition</p>
</li>
<li>
<p><code>AtlasModule#processPreValidation(AtlasSession)</code> for each modules participated in the mapping, validates data format specific things</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>AtlasModule#processPreSourceExecution(AtlasSession)</code> for each source modules</p>
</li>
<li>
<p><code>AtlasModule#processPreTargetExecution(AtlasSession)</code> for each target modules</p>
</li>
<li>
<p>for each mapping entries:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>AtlasModule#processSourceFieldMapping(AtlasSession)</code> for each source fields</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Read source field values from source payload with using <code>FieldReader</code></p>
</li>
<li>
<p>Apply <a href="#internal-runtime-fieldaction">FieldAction</a> if it&#8217;s specified for the source field</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>AtlasModule#processTargetFieldMapping(AtlasSession)</code> for each target fields</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Convert source field values into target field type with using <a href="#internal-runtime-typeconverter">TypeConverter</a> if needed</p>
</li>
<li>
<p>Copy source field values into target fields</p>
</li>
<li>
<p>Apply <a href="#internal-runtime-fieldaction">FieldAction</a> if it&#8217;s specified for the target field</p>
</li>
<li>
<p>Write target field values into target payload with using <code>FieldWriter</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><code>AtlasModule#processPostValidation(AtlasSession)</code> for each modules</p>
</li>
<li>
<p><code>AtlasModule#processPostSourceExecution(AtlasSession)</code> for each source modules</p>
</li>
<li>
<p><code>AtlasModule#processPostTargetExecution(AtlasSession)</code> for each target modules</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-typeconverter">3.3.2. TypeConverter</h4>
<div class="paragraph">
<p>TypeConverter converts one field value to the expected field type. This is automatically invoked during mapping when the actual value is not in expected type. AtlasMap runtime provides OOTB converters for the AtlasMap primitive types
<a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/core/src/main/java/io/atlasmap/converters">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-fieldaction">3.3.3. FieldAction (Transformation)</h4>
<div class="paragraph">
<p>FieldAction is a function you can apply on a field value as a part of mapping. AtlasMap provides a variety of FieldActions you can apply in the middle of processing mappings
<a href="https://github.com/atlasmap/atlasmap/tree/master/runtime/core/src/main/java/io/atlasmap/actions">here</a>.
Also There is a <a href="#fieldAction">Reference</a> for all available FieldAction.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-fieldreader">3.3.4. FieldReader</h4>
<div class="paragraph">
<p>Each module implements its own <a href="#internal-runtime-fieldreader">FieldReader</a> to read a field value from document specific payload.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-fieldwriter">3.3.5. FieldWriter</h4>
<div class="paragraph">
<p>Each module implements its own <a href="#internal-runtime-fieldwriter">FieldWriter</a> to write a field value into document specific payload.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-validation">3.3.6. Validation</h4>
<div class="paragraph">
<p><code>AtlasContext#processValidation(AtlasSession)</code> validates a mapping definition associated with this context. After it&#8217;s completed, you can retrieve a collection of <code>Validation</code> object which represents a validation log.</p>
</div>
<div class="paragraph">
<p><code>processValidation(AtlasSession)</code> is also invoked as a part of <code>AtlasContext#process(AtlasSession)</code> prior to actually perform a mapping. In this case, validation results are converted to <a href="#internal-runtime-audit">Audit</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="internal-runtime-audit">3.3.7. Audit</h4>
<div class="paragraph">
<p><code>Audit</code> represents an audit log which is emitted from runtime engine during processing a mapping. After <code>AtlasContext#process(AtlasSession)</code> is completed, you can retrieve a collection of <code>Audit</code> object by invoking <code>AtlasSession.getAudits()</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="camel-atlasmap">4. camel-atlasmap component</h2>
<div class="sectionbody">
<div class="paragraph">
<p>camel-atlasmap is an <a href="http://camel.apache.org/">Apache Camel</a> Component for AtlasMap. This component executes AtlasMap mapping as a part of Camel route processing.</p>
</div>
<div class="paragraph">
<p>Example usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;camelContext</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://camel.apache.org/schema/spring</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;route&gt;</span>
        <span class="tag">&lt;from</span> <span class="attribute-name">uri</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">direct:start</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;to</span> <span class="attribute-name">uri</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">atlas:atlasmapping.xml</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;to</span> <span class="attribute-name">uri</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">mock:result</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/route&gt;</span>
<span class="tag">&lt;/camelContext&gt;</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Reference">5. Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="a-href-inc-swagger-index-html-design-time-service-api-a">5.1. <a href="inc/swagger/index.html">Design Time Service API</a></h3>

</div>
<div class="sect2">
<h3 id="fieldAction">5.2. Transformation (FieldAction)</h3>
<div class="paragraph">
<p>Transformation is a function you can apply on a field value as a part of mapping. There are a variety of transformations you can apply in the middle of processing mappings. This is called FieldAction internally.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TODO: Generate this list automatically from annotation - <a href="https://github.com/atlasmap/atlasmap/issues/173" class="bare">https://github.com/atlasmap/atlasmap/issues/173</a>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 84%;">
<colgroup>
<col style="width: 23%;">
<col style="width: 18%;">
<col style="width: 19%;">
<col style="width: 21%;">
<col style="width: 19%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field Action</th>
<th class="tableblock halign-left valign-top">Input Type</th>
<th class="tableblock halign-left valign-top">Output Type</th>
<th class="tableblock halign-left valign-top">Parameter(s) (*=required)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AbsoluteValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the absolute value of a
number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add the numbers in a
collection, array, or map&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AddDays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add days to a date. The default days is 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AddSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add seconds to a date. The default
seconds is 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Append</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Append a string to the end of a string.
The default is to append nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Average</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the average of
the numbers in a collection, array, or map&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Camelize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a phrase to a camelized string
by: Removing whitespaceMaking the first word lowercaseCapitalizing the
first letter of each subsequent word</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capitalize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capitalize the first character of a
string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ceiling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number ceiling of a
number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatenate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatenate a
collection, array, or map&#8217;s values, separating each entry by the
delimiter if supplied.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field contains the
supplied value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertAreaUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromUnit *toUnit *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number
representing an area to another unit. The fromUnit and toUnit parameters
can be one of the following: Square FootSquare MeterSquare Mile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertDistanceUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromUnit *toUnit *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a
number representing a distance to another unit. The fromUnit and toUnit
parameters can be one of the following: FootInchMeterMileYard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertMassUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromUnit *toUnit *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number
representing a mass to another unit. The fromUnit and toUnit parameters
can be one of the following: KilogramPound</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertVolumeUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromUnit *toUnit *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number
representing a volume to another unit. The fromUnit and toUnit
parameters can be one of the following: Cubic footCubic meterGallonLiter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentDateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current date/time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DayOfWeek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the week for a date,
from 1 (Monday) to 7 (Sunday).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DayOfYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the year for a date,
from 1 to 365 (or 366 in a leap year).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide each entry in a
collection, array, or map&#8217;s values by its subsequent entry (A "normal"
division would only involve 2 entries).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string ends with
the supplied string (including case).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field is equal to the
supplied value (including case).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FileExtension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve the extension, without the
dot ('.'), of a string representing a file name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number floor of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">template *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return a string that is the result of
substituting a field&#8217;s value within a template containing placeholders
like %s, %d, etc., similar to mechanisms available in programming
languages like Java and C.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GenerateUUID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a string representing a random
UUID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IndexOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the first index, starting at 0,
of the supplied string within a string, or -1 if not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IsNull</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LastIndexOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the last index, starting at
0, of the supplied string within a string, or -1 if not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the length of the field, or -1 if
null. For collections, arrays, and maps, this means the number of
entries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to lowercase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the maximum
number from the numbers in a collection, array, or map&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the minimum
number from the numbers in a collection, array, or map&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply the numbers
in a collection, array, or map&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normalize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace consecutive whitespace
characters with a single space and trim leading and trailing whitespace
from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PadStringLeft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">padCharacter *padCount *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the
supplied character to the beginning of a string the supplied count
times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PadStringRight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">padCharacter *padCount *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the
supplied character to the end of a string the supplied count times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prepend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prepend a string to the beginning of a
string. The default is to prepend nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReplaceAll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">match *newString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace all occurrences
of the supplied matching string in a string with the supplied newString.
The default newString is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReplaceFirst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">match *newString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace this first
occurrence of the supplied matching string in a string with the supplied
newString. The default newString is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Round</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the rounded whole number of a
number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SeparateByDash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace all occurrences of
whitespace, colons (:), underscores (_), plus (+), or equals (=) with a
dash (-) in a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SeparateByUnderscore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace all occurrences of
whitespace, colon (:), dash (-), plus (+), or equals (=) with an
underscores (_) in a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">StartsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string starts
with the supplied string (including case).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Substring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">startIndex *endIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve the segment
of a string from the supplied inclusive startIndex to the supplied
exclusive endIndex. Both indexes start at zero. The default endIndex is
the length of the string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SubstringAfter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">startIndex *endIndexmatch *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve
the segment of a string after the supplied match string from the
supplied inclusive startIndex to the supplied exclusive endIndex. Both
indexes start at zero. The default endIndex is the length of the string
after the supplied match string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SubstringBefore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">startIndex *endIndexmatch *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve
the segment of a string before the supplied match string from the
supplied inclusive startIndex to the supplied exclusive endIndex. Both
indexes start at zero. The default endIndex is the length of the string
before the supplied match string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection/Array/Map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract each entry in
a collection, array, or map&#8217;s values from its previous entry (A "normal"
subtraction would only involve 2 entries).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading and trailing whitespace from a
string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TrimLeft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TrimRight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to uppercase.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="a-href-javadoc-index-html-java-api-reference-javadoc-a">5.3. <a href="javadoc/index.html">Java API Reference (Javadoc)</a></h3>

</div>
<div class="sect2">
<h3 id="terminology">5.4. Terminology</h3>
<div class="paragraph">
<p>AtlasMap terminology</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AtlasMapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The top-level mapping file containing the mapping instructions to execute at runtime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">atlasmapping.xml, atlasmapping.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An Audit is informational tracing data captured runtime execution in order to provide user feedback</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Useful during testing cycles, or when user does not have direct access to the runtime logs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A data type used in conversion that repeats 0 or more times</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to process Arrays and Lists</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The definition of an input or output data format within an AtlasMapping file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">atlas:java, atlas:json, atlas:xml, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base type used to describe a data value used in a Mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaField, JsonField, XmlField, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field Action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A function to perform on a given value of an input or output field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentDate, Trim, SubString, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normalized convention to describe the type of data expected within the value of a field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String, Integer, Long, Number, Date Time, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lookup Table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A cross reference table used at runtime to define a data conversion that varies based on the value of the input field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for mapping enumerations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A grouping of input Field(s), output Field(s) and optionally Field Action(s) that defines the conversion to be performed at runtime within an AtlasMapping file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaField &#8594; JsonField, XmlField &#8594; JsonField + Uppercase, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The specific type of conversion that should be performed at runtime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map, Combine, Separate, Collection or Lookup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Validation is a syntax check of a provide mapping file to ensure execution may proceeed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Useful during testing cycles, and at runtime to avoid complicated and misleading exception stack traces</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>AtlasMap Data Format terminology</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boxed Primitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A type of primitive that have a 'null' value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer, Long, Boolean, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Unboxed) Primitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A type of primitive that cannot be 'null' and generally has a default initialized value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int, long, boolean, etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rooted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON documents that have a parent node identifying to contents of the JSON document</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ "Contact": { "firstName": "Yu", "lastName": "Darvish" } }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unrooted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON documents that do not have a parent node identifying the contents of the JSON document</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ "firstName": "Yu", "lastName": "Darvish" }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Xml elements and/or attributes that contain the namespace prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;ns1:Contact ns1:firstName="Yu" ns1:lastName="Darvish" /&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unqualified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Xml elements and/or attributes that do not contain the namespace prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Contact firstName="Yu" lastName="Darvish" /&gt;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.38.0-SNAPSHOT<br>
Last updated 2018-10-04 01:59:34 UTC
</div>
</div>
</body>
</html>