<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="The AtlasMap Team">
<title>AtlasMap User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body id="mapping-data" class="book toc2 toc-left">
<div id="header">
<h1>AtlasMap User Guide</h1>
<div class="details">
<span id="author" class="author">The AtlasMap Team</span><br>
<span id="revnumber">version 2.4.0-SNAPSHOT,</span>
<span id="revdate">2022-02-13</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">AtlasMap User Guide</div>
<ul class="sectlevel1">
<li><a href="#quickstart">1. Quickly get started using AtlasMap UI standalone</a></li>
<li><a href="#overview-of-atlasmap">2. Overview of AtlasMap</a>
<ul class="sectlevel2">
<li><a href="#general-procedure-for-using-atlasmap-standalone">2.1. General procedure for using AtlasMap standalone</a></li>
<li><a href="#about-atlasmap-and-syndesis">2.2. About AtlasMap and Syndesis</a></li>
<li><a href="#about-types-of-fields-in-atlasmap">2.3. About types of fields in AtlasMap</a></li>
<li><a href="#about-types-of-mappings-in-atlasmap">2.4. About types of mappings in AtlasMap</a></li>
<li><a href="#about-transforming-a-field-in-atlasmap">2.5. About transforming a field in AtlasMap</a></li>
<li><a href="#alternatives-for-supplying-source-values-that-are-missing">2.6. Alternatives for supplying source values that are missing</a></li>
<li><a href="#descriptions-of-atlasmap-icons">2.7. Descriptions of AtlasMap icons</a></li>
</ul>
</li>
<li><a href="#importing-data-files-into-atlasmap">3. Importing data files into AtlasMap</a>
<ul class="sectlevel2">
<li><a href="#importing-json-files-into-atlasmap">3.1. Importing JSON files into AtlasMap</a></li>
<li><a href="#importing-xml-files-into-atlasmap">3.2. Importing XML files into AtlasMap</a></li>
<li><a href="#importing-java-archive-files-into-atlasmap">3.3. Importing Java archive files into AtlasMap</a></li>
</ul>
</li>
<li><a href="#mapping-fields-in-atlasmap">4. Mapping fields in AtlasMap</a>
<ul class="sectlevel2">
<li><a href="#find-the-field-you-want-to-map">4.1. Finding the data field that you want to map</a></li>
<li><a href="#map-one-source-field-to-one-target-field">4.2. Mapping one source field to one target field</a></li>
<li><a href="#example-missing-unwanted-data">4.3. Example of missing or unwanted data when combining or separating fields</a></li>
<li><a href="#combine-multiple-source-fields-into-one-target-field">4.4. Combining multiple source fields into one target field</a></li>
<li><a href="#separate-one-source-field-into-multiple-target-fields">4.5. Separating one source field into multiple target fields</a></li>
<li><a href="#mapping-between-collections-and-non-collections">4.6. Mapping between collections and non-collections</a></li>
<li><a href="#transform-target-data">4.7. Transforming source or target data</a></li>
<li><a href="#applying-conditions-to-mappings">4.8. Applying conditions to mappings</a></li>
<li><a href="#view-mappings">4.9. Viewing mappings</a></li>
<li><a href="#available-transformations">4.10. Descriptions of available transformations</a></li>
<li><a href="#creating-a-custom-transformation">4.11. Creating a custom transformation</a></li>
</ul>
</li>
<li><a href="#exporting-mappings-to-an-adm-archive-file">5. Exporting mappings to an ADM archive file</a></li>
<li><a href="#resetting-data-files-in-atlasmap">6. Resetting data files in AtlasMap</a></li>
<li><a href="#running-atlasmap-with-apache-camel">7. Running AtlasMap with Apache Camel</a></li>
<li><a href="#atlasmap-runtime-examples">8. AtlasMap Runtime Examples</a>
<ul class="sectlevel2">
<li><a href="#using-atlasmap-api">8.1. Using AtlasMap API</a>
<ul class="sectlevel3">
<li><a href="#atlasmap-runtime-api-example">8.1.1. AtlasMap runtime API example</a></li>
<li><a href="#atlasmap-runtime-api-with-adm-archive-file-example">8.1.2. AtlasMap runtime API with ADM archive file example</a></li>
</ul>
</li>
<li><a href="#running-with-apache-camel-2-x">8.2. Running with Apache Camel 2.x</a>
<ul class="sectlevel3">
<li><a href="#atlasmap-running-with-apache-camel2">8.2.1. AtlasMap running with Apache Camel2</a></li>
<li><a href="#atlasmap-running-with-apache-camel2-blueprint-xml">8.2.2. AtlasMap running with Apache Camel2 :: Blueprint XML</a></li>
<li><a href="#atlasmap-running-with-apache-camel2-message-map">8.2.3. AtlasMap running with Apache Camel2 :: Message Map</a></li>
<li><a href="#atlasmap-running-with-apache-camel-multiple-source-documents">8.2.4. AtlasMap running with Apache Camel :: Multiple source Documents</a></li>
</ul>
</li>
<li><a href="#running-with-apache-camel-3-x">8.3. Running with Apache Camel 3.x</a>
<ul class="sectlevel3">
<li><a href="#atlasmap-running-with-apache-camel-3">8.3.1. AtlasMap running with Apache Camel 3</a></li>
<li><a href="#atlasmap-running-with-apache-camel3-message-map">8.3.2. AtlasMap running with Apache Camel3 :: Message Map</a></li>
<li><a href="#atlasmap-running-with-apache-camel3-multiple-source-documents">8.3.3. AtlasMap running with Apache Camel3 :: Multiple source Documents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p><span class="image"><a class="image" href="https://maven-badges.herokuapp.com/maven-central/io.atlasmap/atlas-parent/"><img src="https://maven-badges.herokuapp.com/maven-central/io.atlasmap/atlas-parent/badge.svg?style=flat-square" alt="badge"></a></span>
<span class="image"><a class="image" href="https://badge.fury.io/js/%40atlasmap%2Fatlasmap"><img src="https://badge.fury.io/js/%40atlasmap%2Fatlasmap.svg" alt="%40atlasmap%2Fatlasmap"></a></span>
<span class="image"><a class="image" href="https://gitter.im/atlasmap/community"><img src="https://badges.gitter.im/atlasmap/community.png" alt="community"></a></span>
<span class="image"><a class="image" href="https://github.com/atlasmap/atlasmap/discussions"><img src="https://img.shields.io/github/discussions/atlasmap/atlasmap" alt="atlasmap"></a></span></p>
</div>
<div id="introduction" class="paragraph">
<p>AtlasMap is a data mapping solution with an interactive web based user interface.
It simplifies configuration of an integration that handles different
types of data including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XML schema or instance files</p>
</li>
<li>
<p>JSON schema or instance files</p>
</li>
<li>
<p>Java class files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use AtlasMap, you start from AtlasMap UI and import your data shape definition files,
 map source fields to target fields, optionally apply transformations or conditions,
and then execute defined mappings by means of the AtlasMap runtime engine.
AtlasMap provides standard transformations and
supports the creation of custom, user-defined transformations.</p>
</div>
<div class="paragraph">
<p>AtlasMap UI is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>As a standalone application</p>
</li>
<li>
<p>Embedded in
<a href="https://syndesis.io/">Syndesis</a>, which is an open-source integration platform</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To execute the mappings created through AtlasMap UI,
there is a <code>camel-atlasmap</code> component that consumes an
AtlasMap mapping definition and processes data mappings as a part of a Camel route
<a href="https://camel.apache.org/components/latest/atlasmap-component.html" class="bare">https://camel.apache.org/components/latest/atlasmap-component.html</a></p>
</div>
<div class="paragraph">
<p>Also, There is a Camel Quarkus extension for AtlasMap
<a href="https://camel.apache.org/camel-quarkus/latest/reference/extensions/atlasmap.html" class="bare">https://camel.apache.org/camel-quarkus/latest/reference/extensions/atlasmap.html</a></p>
</div>
<div class="paragraph">
<p>This user guide is organized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#quickstart">Quickly get started using AtlasMap UI standalone</a></p>
</li>
<li>
<p><a href="#overview-of-atlasmap">Overview of AtlasMap</a></p>
</li>
<li>
<p><a href="#importing-data-files-into-atlasmap">Importing data files into AtlasMap</a></p>
</li>
<li>
<p><a href="#mapping-fields-in-atlasmap">Mapping fields in AtlasMap</a></p>
</li>
<li>
<p><a href="#exporting-mappings-to-an-atlasmap-catalog-file">[exporting-mappings-to-an-atlasmap-catalog-file]</a></p>
</li>
<li>
<p><a href="#resetting-data-files-in-atlasmap">Resetting data files in AtlasMap</a></p>
</li>
<li>
<p><a href="#running-atlasmap-with-apache-camel">Running AtlasMap with Apache Camel</a></p>
</li>
<li>
<p><a href="#atlasmap-runtime-examples">AtlasMap Runtime Examples</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quickstart">1. Quickly get started using AtlasMap UI standalone</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To run AtlasMap UI standalone:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain the most recent AtlasMap version number:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Go to <a href="https://github.com/atlasmap/atlasmap/" class="bare">https://github.com/atlasmap/atlasmap/</a></p>
</li>
<li>
<p>Scroll down to see the <code>maven central</code> icon with the latest
version, for example:
<span class="image"><img src="images/latest-maven-central-version-number.png" alt="maven central 1.42.3"></span>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Download the AtlasMap standalone <code>.jar</code> file by invoking the
<code>wget</code> command with the following format. Replace <code>$2.4.0-SNAPSHOT</code>
with an actual version number.</p>
<div class="listingblock">
<div class="content">
<pre>wget https://repo1.maven.org/maven2/io/atlasmap/atlasmap-standalone/${VERSION}/atlasmap-standalone-${VERSION}.jar</pre>
</div>
</div>
</li>
<li>
<p>Run AtlasMap standalone by invoking the <code>java</code> command with the
following format:</p>
<div class="listingblock">
<div class="content">
<pre>$ java -jar atlasmap-standalone-${VERSION}.jar</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -jar atlasmap-standalone-1.42.3.jar</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Although it is not a common situation, you can start AtlasMap and also
load mapping definitions if you have an AtlasMap <code>.adm</code> file.
An AtlasMap <code>.adm</code> file contains mapping definitions that were exported from AtlasMap.
For example, suppose you want to start AtlasMap and
import the <code>/home/aslan/Downloads/atlas-mapping.adm</code> file.
Invoke a command such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -Datlasmap.adm.path=/home/aslan/Downloads/atlas-mapping.adm -jar atlasmap-standalone-1.42.3.jar</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In a browser, visit
<a href="http://127.0.0.1:8585/" class="bare">http://127.0.0.1:8585/</a>
to see the AtlasMap data mapper canvas.</p>
</li>
<li>
<p>Experiment with the data mapper:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>At the top of the <strong>Source</strong> panel, click
<span class="image"><img src="images/Import-Data-Shape.png" alt="Import"></span>
to import a JSON or XML file that you can map fields from.</p>
</li>
<li>
<p>At the top of the <strong>Target</strong> panel, click
<span class="image"><img src="images/Import-Data-Shape.png" alt="Import"></span>
to import a different JSON or XML file that you can map fields to.</p>
</li>
<li>
<p>To map fields:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Navigate to a source field and click <span class="image"><img src="images/CreateNewMapping.png" alt="Create new napping"></span>.</p>
<div class="paragraph">
<p>The <strong>Mapping Details</strong> panel will slide in from the right.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/MappingDetails.png" alt="Mapping Details"></span></p>
</div>
</li>
<li>
<p>Either:</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>Navigate to a target field and click <span class="image"><img src="images/ConnectToSelectedMapping.png" alt="Connect to the selected mapping"></span> to add it to the
selected mapping, or</p>
</li>
<li>
<p>Drag and drop a target field on the source field to add the target field to the mapping.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>With a data mapping selected, explore the optional transformations.</p>
</li>
<li>
<p>To preview a data mapping result, click
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show Mapping Preview"></span> and enter sample data in source <strong>Mapping preview</strong> fields.</p>
</li>
<li>
<p>To save your work, click the <strong>AtlasMap</strong> menu and select <strong>Export the current mappings and support files into a catalog (.adm)</strong></p>
<div class="paragraph">
<p><span class="image"><img src="images/AtlasMapMenu.png" alt="AtlasMap menu"></span>.</p>
</div>
<div class="paragraph">
<p>Then choose a folder in which to save an AtlasMap <code>.adm</code> file. This file contains the mapping definitions.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview-of-atlasmap">2. Overview of AtlasMap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following topics provide a high-level overview of AtlasMap:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#general-procedure-for-using-atlasmap-standalone">General procedure for using AtlasMap standalone</a></p>
</li>
<li>
<p><a href="#about-atlasmap-and-syndesis">About AtlasMap and Syndesis</a></p>
</li>
<li>
<p><a href="#about-types-of-fields-in-atlasmap">About types of fields in AtlasMap</a></p>
</li>
<li>
<p><a href="#about-types-of-mappings-in-atlasmap">About types of mappings in AtlasMap</a></p>
</li>
<li>
<p><a href="#about-transforming-a-field-in-atlasmap">About transforming a field in AtlasMap</a></p>
</li>
<li>
<p><a href="#alternatives-for-supplying-source-values-that-are-missing">Alternatives for supplying source values that are missing</a></p>
</li>
<li>
<p><a href="#descriptions-of-atlasmap-icons">Descriptions of AtlasMap icons</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="general-procedure-for-using-atlasmap-standalone">2.1. General procedure for using AtlasMap standalone</h3>
<div class="paragraph">
<p>To use AtlasMap standalone, the main steps are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the AtlasMap standalone <code>.jar</code> file.</p>
</li>
<li>
<p>Start running AtlasMap standalone.</p>
</li>
<li>
<p>In the AtlasMap data mapping canvas:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Import a source data file.</p>
</li>
<li>
<p>Import a target data file.</p>
</li>
<li>
<p>Map fields as needed, optionally applying transformations and/or conditions.</p>
</li>
<li>
<p>Export the defined mappings to a <code>.adm</code> AtlasMap catalog file.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>What can you do with an AtlasMap <code>.adm</code> file?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Continue working on the mappings by importing the <code>.adm</code> file into AtlasMap.</p>
</li>
<li>
<p>Execute the mappings in a Camel application that uses the
<code>camel-atlasmap</code> component, which consumes <code>.adm</code> files.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="about-atlasmap-and-syndesis">2.2. About AtlasMap and Syndesis</h3>
<div class="paragraph">
<p>The <a href="https://www.syndesis.io">Syndesis open-source integration platform</a>
embeds AtlasMap.
In a Syndesis integration, you add connections to applications
that provide the data of interest to you. With connections in place,
Syndesis offers an AtlasMap data mapper step. When you add a data mapper
step, Syndesis displays the data mapper canvas with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Source data fields that are provided by previous connections</p>
</li>
<li>
<p>Target data fields that are required by the subsequent connection</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In other words, you do not import source and target data as you would
in standalone AtlasMap. Likewise, when data mappings are complete,
instead of exporting the mappings, you just click a button to indicate
that you are done.</p>
</div>
<div class="paragraph">
<p>When Syndesis embeds AtlasMap, it does not display the icons for
importing and exporting data.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-types-of-fields-in-atlasmap">2.3. About types of fields in AtlasMap</h3>
<div class="paragraph">
<p>The AtlasMap user interface displays source fields and target fields
and you define the field-to-field mappings that you need.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
At this time, AtlasMap does not provide whole document mapping.
It is expected that a future release will support bulk mapping by
detecting the same object structure in source and target files
(<a href="https://github.com/atlasmap/atlasmap/issues/86">issue #86</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An understanding of the different kinds of AtlasMap fields makes
it easier for you to define the mappings you need. For the purposes of
mapping, there are three field types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Terminal</strong> — A terminal field is selectable. It can be the source or
target in a mapping. During execution, a path to a terminal field
identifies a value.</p>
</li>
<li>
<p><strong>Parent</strong>  — A parent field is also referred to as a complex field.
A parent field is expandable. Expanding a parent field displays
its descendant fields. A parent field it not selectable and
cannot be directly in a mapping.</p>
</li>
<li>
<p><strong>Collection</strong>  — A collection field is also a terminal field.
It is selectable and can be the source or target in a mapping.
A collection field indicates a field that holds one or more
objects that are all the same type. Internally, a collection
field might be an array.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, consider this sample XML instance document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;order&gt;
  &lt;orderId value="O123"/&gt;
  &lt;items&gt;
    &lt;item&gt;
      &lt;itemId&gt;Orange&lt;/itemId&gt;
      &lt;quantity value="1"/&gt;
    &lt;/item&gt;
    &lt;item&gt;
      &lt;itemId&gt;Apple&lt;/itemId&gt;
      &lt;quantity value="2"/&gt;
    &lt;/item&gt;
  &lt;/items&gt;
&lt;/order&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Terminal fields:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/order/orderId/@value</code><br>
<code>/order/items/item[0]/quantity/@value</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent fields:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/order</code><br>
<code>/order/orderId</code><br>
<code>/order/items/item[0]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection fields:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/order/items/item[]/itemId</code><br>
<code>/order/items/item[]/quantity/@value</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When you define a mapping that uses this XML instance document as the
source data,  you cannot know how many items will be in an order.
However, the same mapping definition works for each transaction,
regardless of the number of items in the order.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-types-of-mappings-in-atlasmap">2.4. About types of mappings in AtlasMap</h3>
<div class="paragraph">
<p>AtlasMap supports the following general types of mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>One to one</strong>  — Map one source field to one target field.</p>
</li>
<li>
<p><strong>Many to one</strong>  — Map multiple source fields to to one target field.
You specify the delimiter character that AtlasMap inserts in the target
field between the mapped source fields. The default delimiter is a space.</p>
</li>
<li>
<p><strong>One to many</strong>  — Map one source field to multiple target fields.
You specify the delimiter character that is in the source field.
AtlasMap maps each delimited value to a the target field you select.</p>
</li>
<li>
<p><strong>For each</strong> — Iteratively map one source collection field to one
target collection field.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="about-transforming-a-field-in-atlasmap">2.5. About transforming a field in AtlasMap</h3>
<div class="paragraph">
<p>In a data mapping, you can apply a transformation to one or more fields.
A transformation is a function that AtlasMap performs on the selected
field. For example, suppose you select a source field and specify
the <code>Uppercase</code> transformation. At runtime, AtlasMap converts the source
field value to uppercase and inserts the uppercase value in the target field.</p>
</div>
<div class="paragraph">
<p>To apply a transformation, select a source or target terminal field,
click <strong>Add Transformation</strong> in the <strong>Mapping Details</strong> panel on the right,
and select the transformation.</p>
</div>
<div class="paragraph">
<p>You can apply different transformations to different fields in the same mapping.</p>
</div>
<div class="paragraph">
<p>In a one-to-one mapping, which maps one source field to one target field,
it does not matter whether you apply the transformation to the source field
or the target field. In a one-to-many or many-to-one mapping, consider
what the target field value needs to be when you specify a transformation.
For example, consider a many-to-one mapping that combines source fields
for number, street, city, and state into one target address field.
If you want the strings in the target address field to all be uppercase,
select the target address field and apply the uppercase transformation.
If only the state needs to be uppercase, select the source state field,
and apply the uppercase transformation.</p>
</div>
<div class="paragraph">
<p>You can think of a source field transformation as performing pre-processing,
while a target field transformation performs post-processing.</p>
</div>
</div>
<div class="sect2">
<h3 id="alternatives-for-supplying-source-values-that-are-missing">2.6. Alternatives for supplying source values that are missing</h3>
<div class="paragraph">
<p>When you are mapping fields, you might find that a source data shape
does not provide a value that a target data shape requires.
In these situations, AtlasMap provides two alternatives for specifying
source values that you can map to target fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Define a property</strong>  — In AtlasMap, at the top of the <strong>Source</strong> panel,
to the right of <strong>Properties</strong>, click the + sign to display a dialog.
Enter the property name, the property&#8217;s default value, and indicate the data type.
Note that at runtime, if there is an environment variable or a Java system
property with the same name as the property, it is possible for this
default value to be overridden.
Click <strong>Save</strong> to create a new terminal source field.</p>
</li>
<li>
<p><strong>Define a constant</strong> — In AtlasMap, near the top of the <strong>Source</strong> panel,
to the right of <strong>Constants</strong>, click the + sign to display a dialog.
Enter the value of the constant, and indicate the data type.
Click <strong>Save</strong> to create a new terminal source field.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, suppose that a target data shape defines a <strong>Layout</strong> field
whose value must be <code>HORIZONTAL</code> or <code>VERTICAL</code>. The source data shape does
not provide this field. You can create a constant. Specify <code>HORIZONTAL</code>
or <code>VERTICAL</code> as the value and accept <code>String</code> as the data type.
After you save the new constant, you can map it to the <strong>Layout</strong> target field.</p>
</div>
</div>
<div class="sect2">
<h3 id="descriptions-of-atlasmap-icons">2.7. Descriptions of AtlasMap icons</h3>
<div class="paragraph">
<p>The following table describes some of the AtlasMap icons:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Icon</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/CircleIcon.png" alt="Circle icon"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Completely mapped field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/CollectionIcon.png" alt="Collection icon"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/FolderIcon.png" alt="Folder icon"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complex type that you can expand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/LightningBoltIcon.png" alt="Lightning bolt iicon"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There is a transformation that is being applied to this field.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There are also several toolbar buttons that allow you to choose what should be displayed, such as data types, sample data previews,
and mapped or unmapped fields.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="importing-data-files-into-atlasmap">3. Importing data files into AtlasMap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Data mapping allows you to match fields in a source data shape to fields in a
target data shape. The data shapes that AtlasMap can operate on are
defined in JSON schema or instance documents, XML schema or instance documents,
or Java classes.</p>
</div>
<div class="paragraph">
<p>To map fields, you import data shape definition files into the AtlasMap
<strong>Source</strong> and <strong>Target</strong> panels. You can import multiple files into each panel.
For example, suppose you import three source files and one target file.
You can map fields from all three source files to the single target file.</p>
</div>
<div class="paragraph">
<p>The following topics provide examples of importing different
data shape definitions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#importing-json-files-into-atlasmap">Importing JSON files into AtlasMap</a></p>
</li>
<li>
<p><a href="#importing-xml-files-into-atlasmap">Importing XML files into AtlasMap</a></p>
</li>
<li>
<p><a href="#importing-java-archive-files-into-atlasmap">Importing Java archive files into AtlasMap</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="importing-json-files-into-atlasmap">3.1. Importing JSON files into AtlasMap</h3>
<div class="paragraph">
<p>You can import a JSON schema file or a JSON instance file into
AtlasMap. The procedure for importing each kind of file is the same.
For example, the following JSON schema file, <code>JSONSchema.json</code>,
defines properties for an <code>Order</code> object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "$schema": "http://json-schema.org/schema#",
    "description": "Order",
    "type": "object",
    "properties": {
      "order": {
        "type": "object",
        "properties": {
          "address": {
          "type": "object",
          "properties": {
            "street": { "type": "string" },
            "city": { "type": "string" },
            "state": { "type": "string" },
            "zip": { "type": "string" }
          }
        },
        "contact": {
          "type": "object",
          "properties": {
            "firstName": { "type": "string" },
            "lastName": { "type": "string" },
            "phone": { "type": "string" }
          }
        },
        "orderId": { "type": "string" }
      }
    },
    "primitives": {
      "type": "object",
      "properties": {
        "stringPrimitive": { "type": "string" },
        "booleanPrimitive": { "type": "boolean" },
        "numberPrimitive": { "type": "number" }
      }
    },
    "primitiveArrays": {
      "type": "object",
      "properties": {
        "stringArray": {
          "type": "array",
          "items": { "type": "string" }
        },
        "booleanArray": {
          "type": "array",
          "items": { "type": "boolean" }
        },
        "numberArray": {
          "type": "array",
          "items": { "type": "number" }
        }
      }
    },
    "addressList": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "street": { "type": "string" },
          "city": { "type": "string" },
          "state": { "type": "string" },
          "zip": { "type": "string" }
        }
      }
    }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To import this file into the AtlasMap Source panel:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the top of the <strong>Source</strong> panel, click
<span class="image"><img src="images/Import-Data-Shape.png" alt="Import"></span>.</p>
</li>
<li>
<p>In the <strong>Open File</strong> dialog, navigate to the <code>JSONSchema.json</code> file and select it.</p>
</li>
<li>
<p>Click <strong>Open</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>AtlasMap displays the fields in the <strong>Source</strong> panel:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/ImportJSON.png" alt="Order document"></span>.</p>
</div>
</div>
<div class="sect2">
<h3 id="importing-xml-files-into-atlasmap">3.2. Importing XML files into AtlasMap</h3>
<div class="paragraph">
<p>You can import an XML schema file or an XML instance file into
AtlasMap. The procedure for importing each kind of file is the same.
For example,
the following XML schema file, <code>XMLSchema.xml</code>, defines a schema for
transactions related to pets:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;d:SchemaSet xmlns:d="http://atlasmap.io/xml/schemaset/v2" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
    &lt;xsd:schema targetNamespace="http://syndesis.io/v1/swagger-connector-template/request" elementFormDefault="qualified"&gt;
      &lt;xsd:element name="request"&gt;
        &lt;xsd:complexType&gt;
          &lt;xsd:sequence&gt;
            &lt;xsd:element name="body"&gt;
              &lt;xsd:complexType&gt;
                &lt;xsd:sequence&gt;
                  &lt;xsd:element ref="Pet" /&gt;
                &lt;/xsd:sequence&gt;
              &lt;/xsd:complexType&gt;
            &lt;/xsd:element&gt;
          &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;
      &lt;/xsd:element&gt;
    &lt;/xsd:schema&gt;
    &lt;d:AdditionalSchemas&gt;
      &lt;xsd:schema&gt;
        &lt;xsd:element name="Pet"&gt;
          &lt;xsd:complexType&gt;
            &lt;xsd:sequence&gt;
              &lt;xsd:element name="id" type="xsd:decimal" /&gt;
              &lt;xsd:element name="Category"&gt;
                &lt;xsd:complexType&gt;
                  &lt;xsd:sequence&gt;
                    &lt;xsd:element name="id" type="xsd:decimal" /&gt;
                    &lt;xsd:element name="name" type="xsd:string" /&gt;
                  &lt;/xsd:sequence&gt;
                &lt;/xsd:complexType&gt;
              &lt;/xsd:element&gt;
              &lt;xsd:element name="name" type="xsd:string" /&gt;
              &lt;xsd:element name="photoUrl"&gt;
                &lt;xsd:complexType&gt;
                  &lt;xsd:sequence&gt;
                    &lt;xsd:element name="photoUrl" type="xsd:string" maxOccurs="unbounded" minOccurs="0" /&gt;
                  &lt;/xsd:sequence&gt;
                &lt;/xsd:complexType&gt;
              &lt;/xsd:element&gt;
              &lt;xsd:element name="tag"&gt;
                &lt;xsd:complexType&gt;
                  &lt;xsd:sequence&gt;
                    &lt;xsd:element name="Tag" maxOccurs="unbounded" minOccurs="0"&gt;
                      &lt;xsd:complexType&gt;
                        &lt;xsd:sequence&gt;
                          &lt;xsd:element name="id" type="xsd:decimal" /&gt;
                          &lt;xsd:element name="name" type="xsd:string" /&gt;
                        &lt;/xsd:sequence&gt;
                      &lt;/xsd:complexType&gt;
                    &lt;/xsd:element&gt;
                  &lt;/xsd:sequence&gt;
                &lt;/xsd:complexType&gt;
              &lt;/xsd:element&gt;
              &lt;xsd:element name="status" type="xsd:string" /&gt;
            &lt;/xsd:sequence&gt;
          &lt;/xsd:complexType&gt;
        &lt;/xsd:element&gt;
      &lt;/xsd:schema&gt;
    &lt;/d:AdditionalSchemas&gt;
  &lt;/d:SchemaSet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To import this file into the AtlasMap <strong>Target</strong> panel:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the top of the <strong>Target</strong> panel, click
<span class="image"><img src="images/Import-Data-Shape.png" alt="Import"></span>.</p>
</li>
<li>
<p>In the <strong>Open File</strong> dialog, navigate to the <code>XMLSchema.xml</code> file and select it.</p>
</li>
<li>
<p>Click <strong>Open</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>AtlasMap displays the fields in the <strong>Target</strong> panel.  In the following image,
the fields are expanded to show more detail.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/ImportXML.png" alt="Imported schema for pet transactions"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="importing-java-archive-files-into-atlasmap">3.3. Importing Java archive files into AtlasMap</h3>
<div class="paragraph">
<p>AtlasMap can import a Java archive file and display mappable fields in
either the source or target panel. In the data mapper, each class-wide
public entity in a class file that is in the imported JAR file becomes a
mappable field.</p>
</div>
<div class="paragraph">
<p>Arrays and data types are more discretely defined.</p>
</div>
<div class="paragraph">
<p>Consider the following two files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Bicycle.java:

package io.paul;
import io.paul.GeoLocation;

public class Bicycle {
    public int cadence;
    public int gear;
    public int speed;
    public float[] seatHeight;
    public String[] color;
    public GeoLocation geoLocation;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">GeoLocation.java:
package io.paul;

public class GeoLocation {
    double lattitude;
    double longitude;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To import these files:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Compile the Java files and assemble the results into a Java archive file.
For example, invoke the following commands to create the <code>Bicycle.jar</code> file:</p>
<div class="listingblock">
<div class="content">
<pre>javac -cp io.paul:. -d . GeoLocation.java Bicycle.java
jar cvf ../Bicycle.jar *</pre>
</div>
</div>
</li>
<li>
<p>In the main toolbar, click the <strong>AtlasMap</strong> menu and select <strong>Import a catalog (.adm)</strong>.
<span class="image"><img src="images/AtlasMapMenu.png" alt="Import"></span>.</p>
</li>
<li>
<p>In the <strong>Open</strong> dialog, navigate to the <code>Bicycle.jar</code> file and click <strong>Open</strong>.</p>
</li>
<li>
<p>At the top of the <strong>Source</strong> panel, click
<span class="image"><img src="images/AddJavaClass.png" alt="+"></span>
to import the fields into the source panel.</p>
<div class="paragraph">
<p>To display imported fields in the <strong>Target</strong> panel, you would click
<span class="image"><img src="images/AddJavaClass.png" alt="+"></span>
at the top of the <strong>Target</strong> panel.</p>
</div>
</li>
<li>
<p>In the <strong>Load Java Document From Custom Class</strong> dialog, in the <strong>Custom class name</strong> field,
select the class package name of the Java class. For example, in
<code>Bicycle.jar</code> file, the class package name is <code>io.paul.Bicycle</code>.</p>
</li>
<li>
<p>Click <strong>OK</strong>.  If you import the sample <code>Bicycle.jar</code> file into the the
<strong>Source</strong> panel, you would now see something like the following.
The fields that are in the imported Java class files appear in the
panel into which they were imported.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/ImportJavaClass.png" alt="Bicycle jar file"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapping-fields-in-atlasmap">4. Mapping fields in AtlasMap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following topics provide details for mapping fields in AtlasMap:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#find-the-field-you-want-to-map">Finding the data field that you want to map</a></p>
</li>
<li>
<p><a href="#map-one-source-field-to-one-target-field">Mapping one source field to one target field</a></p>
</li>
<li>
<p><a href="#example-missing-unwanted-data">Example of missing or unwanted data when combining or separating fields</a></p>
</li>
<li>
<p><a href="#combine-multiple-source-fields-into-one-target-field">Combining multiple source fields into one target field</a></p>
</li>
<li>
<p><a href="#separate-one-source-field-into-multiple-target-fields">Separating one source field into multiple target fields</a></p>
</li>
<li>
<p><a href="#mapping-between-collections-and-non-collections">Mapping between collections and non-collections</a></p>
</li>
<li>
<p><a href="#transform-target-data">Transforming source or target data</a></p>
</li>
<li>
<p><a href="#applying-conditions-to-mappings">Applying conditions to mappings</a></p>
</li>
<li>
<p><a href="#view-mappings">Viewing mappings</a></p>
</li>
<li>
<p><a href="#available-transformations">Descriptions of available transformations</a></p>
</li>
<li>
<p><a href="#creating-a-custom-transformation">Creating a custom transformation</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="find-the-field-you-want-to-map">4.1. Finding the data field that you want to map</h3>
<div class="paragraph">
<p>In a relatively simple integration, mapping data fields is easy
and intuitive. In more complex integrations or in integrations that handle
large sets of data fields, mapping from source to target is easier when
you have some background about how to use the data mapper.</p>
</div>
<div class="paragraph">
<p>The data mapper displays two columns of data fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Source</strong> is a list of the data fields that you can map to target fields.</p>
</li>
<li>
<p><strong>Target</strong> is a list of the data fields that you can map source fields to.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To quickly find the data field that you
want to map, you can do any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Search for it.</p>
<div class="paragraph">
<p>The <strong>Source</strong> panel and the <strong>Target</strong> panel each have
a search field at the top. Enter the name of the field you want to map.</p>
</div>
</li>
<li>
<p>Enter the names of the fields that you want to map in the <strong>Mapping Details</strong> panel.</p>
<div class="paragraph">
<p>Click <span class="image"><img src="images/AddIcon.png" alt="Add icon"></span> in the toolbar to add a new empty mapping. The <strong>Mapping Details</strong> panel will slide in from the
right. In the <strong>Sources</strong> section, enter
the name of the source field. In the <strong>Targets</strong> section, enter the name of the
field that you want to map to.</p>
</div>
</li>
<li>
<p>Expand and collapse folders to limit the visible fields.</p>
<div class="paragraph">
<p>Once the appropriate field is visible, you can drag it to a currently mapped field in the opposite panel to add it to that mapping.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="map-one-source-field-to-one-target-field">4.2. Mapping one source field to one target field</h3>
<div class="paragraph">
<p>The default mapping behavior maps one source field to one target field.
For example, map the <code>Name</code> field to the <code>CustomerName</code> field.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Source</strong> panel, navigate to the data field that you want to map from.</p>
<div class="paragraph">
<p>You might need to expand a folder to see the data fields that it
provides.</p>
</div>
<div class="paragraph">
<p>When there are many source fields, you can search for the
field of interest by entering the field&#8217;s name in the search field at the top of the <strong>Source</strong> panel.</p>
</div>
</li>
<li>
<p>Click <span class="image"><img src="images/CreateNewMapping.png" alt="Create new mapping"></span> to add the field as a source of a new mapping.</p>
</li>
<li>
<p>In the <strong>Target</strong> panel, navigate to the data field that you want to map to.</p>
</li>
<li>
<p>Click <span class="image"><img src="images/ConnectToSelectedMapping.png" alt="Connect to selected mapping"></span> to add the field as a target in the selected mapping.</p>
</li>
<li>
<p>Optionally, preview the data mapping result. This is useful when
you add a transformation to the mapping or when the mapping requires
a type conversion.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the toolbar, click <span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> to display a text input field on the source
field and a read-only result field on the target field.</p>
</li>
<li>
<p>In the source field&#8217;s data input field, enter text. Click somewhere
outside this text box to display
the mapping result in the read-only field on the target field.</p>
</li>
<li>
<p>Optionally, to see the result of a transformation, add a transformation
in the <strong>Mapping Details</strong> panel.</p>
</li>
<li>
<p>Hide the preview fields by again clicking <span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, to confirm that the mapping is defined, in the upper right, click <span class="image"><img src="images/GridIcon.png" alt="Grid"></span> to display the defined
mappings in a table.</p>
<div class="paragraph">
<p>You can also preview data mapping results in this view.
If preview fields are not visible,
click <span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> and enter data as described in the previous step.
In the table of defined mappings, preview fields
appear for only the selected mapping. To see preview fields for another
mapping, select it.</p>
</div>
<div class="paragraph">
<p>Click <span class="image"><img src="images/ColumnIcon.png" alt="Column icon"></span> to display the data field
panels again.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="example-missing-unwanted-data">4.3. Example of missing or unwanted data when combining or separating fields</h3>
<div class="paragraph">
<p>In a data mapping, you might need to identify missing or unwanted data when a source or
target field contains compound data. For example, consider a
<code>long_address</code> field that has this format:</p>
</div>
<div class="paragraph">
<p><em>number street apartment city state zip zip+4 country</em></p>
</div>
<div class="paragraph">
<p>Suppose that you want to separate the <code>long_address</code> field into discrete
fields for <code>number</code>, <code>street</code>, <code>city</code>, <code>state</code>, and <code>zip</code>. To do this,
you select <code>long_address</code> as the source field and then select
the target fields. You then add padding fields at the locations for the
parts of the source field that you do not want. In this example, the
unwanted parts are <em>apartment</em>, <em>zip+4</em>, and <em>country</em>.</p>
</div>
<div class="paragraph">
<p>To identify the unwanted parts, you need to know the order
of the parts. The order indicates an index for
each part of the content in the compound field. For example, the <code>long_address</code>
field has 8 ordered parts. Starting at 1, the index of each part is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>number</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>street</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apartment</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>city</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>state</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zip</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zip+4</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>country</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the data mapper, to identify <em>apartment</em>, <em>zip+4</em>, and <em>country</em> as missing, you
add padding fields at indexes 3, 7, and 8. See
<a href="#separate-one-source-field-into-multiple-target-fields">Separating one source field into multiple target fields</a>.</p>
</div>
<div class="paragraph">
<p>Now suppose that you want to combine source fields for
<code>number</code>, <code>street</code>, <code>city</code>, <code>state</code>, and <code>zip</code> into a <code>long_address</code>
target field. Further suppose that there are no source fields to provide content for
<em>apartment</em>, <em>zip+4</em>, and <em>country</em>. In the data mapper, you need to
identify these fields as missing. Again, you add padding fields
at indexes 3, 7, and 8. See <a href="#combine-multiple-source-fields-into-one-target-field">Combining multiple source fields into one target field</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="combine-multiple-source-fields-into-one-target-field">4.4. Combining multiple source fields into one target field</h3>
<div class="paragraph">
<p>In a data mapping, you can combine multiple source fields into one
compound target field. For example, you can map the <code>FirstName</code> and <code>LastName</code>
fields to the <code>CustomerName</code> field.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisite</div>
<p>For the target field, you must know what type of content is in each
part of this compound field, the order and index of each part of the content,
and the separator between parts, such as a space or comma. See
<a href="#example-missing-unwanted-data">Example of missing or unwanted data when combining or separating fields</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Source</strong> panel, navigate to the first field that
you want to combine into the target field and click <span class="image"><img src="images/CreateNewMapping.png" alt="Create new mapping"></span>. For each of the other
fields that you want to combine into the target field, click <span class="image"><img src="images/ConnectToSelectedMapping.png" alt="Connect to selected mapping"></span> next
to each field.</p>
<div class="paragraph">
<p>The data mapper automatically changes the type of mapping to <strong>Concatenate</strong>.</p>
</div>
</li>
<li>
<p>In the <strong>Target</strong> panel, click <span class="image"><img src="images/ConnectToSelectedMapping.png" alt="Connect to selected mapping"></span> next to the field into which you want
to map all of the source fields.</p>
<div class="paragraph">
<p>When you are done you should see a line from each of the source fields to
the target field.</p>
</div>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, in the <strong>Delimiter</strong> field, select the
character that the data mapper inserts in the target field between the content
from different source fields. The default is a space.</p>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, under <strong>Sources</strong>, ensure that the source
fields are in the order in which they are expected to appear in the target field.</p>
<div class="paragraph">
<p>If necessary, increase or decrease the index number of a source field to achieve the desired order.</p>
</div>
</li>
<li>
<p>Optionally, preview the data mapping result:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the toolbar, click
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> and select
<strong>Show Mapping Preview</strong> to display a text input field on each source
field for the currently selected mapping and a read-only result field
on the target field of the currently selected mapping.</p>
</li>
<li>
<p>In the source data input fields, enter text. Click outside the
text box to display the mapping result in the read-only field on the target field.</p>
<div class="paragraph">
<p>If you reorder the source fields or add a transformation to the mapping
then the result field on the target field reflects this. If the data mapper
detects any errors, it displays informative messages at the top of the
<strong>Mapping Details</strong> panel.</p>
</div>
</li>
<li>
<p>Hide the preview fields by clicking
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> again.</p>
<div class="paragraph">
<p>If you redisplay the preview fields, any data
that you entered in them is still there and it
remains there until you exit the data mapper.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To confirm that the mapping is correctly defined, in the upper right, click
<span class="image"><img src="images/GridIcon.png" alt="Grid icon"></span> to display the defined mappings.
A mapping that combines the values of more than one source field
into one target field looks like this:
<span class="image"><img src="images/CombineMapping.png" alt="Combine mapping"></span>.</p>
<div class="paragraph">
<p>You can also preview mapping results in this view. Click
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> and enter text as described in the previous step.
Preview fields appear for only the selected mapping. Click another
mapping in the table to view preview fields for it.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="separate-one-source-field-into-multiple-target-fields">4.5. Separating one source field into multiple target fields</h3>
<div class="paragraph">
<p>In a data mapping, you can separate a compound source field into multiple
target fields. For  example, map the <code>Name</code> field to the <code>FirstName</code> and
 <code>LastName</code> fields.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisite</div>
<p>For the source field, you must know what type of content is in each
part of this compound field, the order and index of each part of the content,
and the separator between parts, such as a space or comma. See
<a href="#example-missing-unwanted-data">Example of missing or unwanted data when combining or separating fields</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Source</strong> panel, navigate to the field that contains the content you want to separate and click
<span class="image"><img src="images/CreateNewMapping.png" alt="Create new mapping"></span>.</p>
</li>
<li>
<p>In the <strong>Target</strong> panel, for each field into which you want to map part of the source field&#8217;s content, navigate to the field and
click <span class="image"><img src="images/ConnectToSelectedMapping.png" alt="Connect to selected mapping"></span>.</p>
<div class="paragraph">
<p>The data mapper automatically changes the mapping type to <strong>Split</strong>.</p>
</div>
<div class="paragraph">
<p>When you are done selecting target fields, you should see lines from the
source field to each of the target fields.</p>
</div>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, in the <strong>Delimiter</strong> field,
select the character in the source field that indicates
where to separate the source field values. The default is a space.</p>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, under <strong>Targets</strong>, ensure that the target
fields are in the same order as the corresponding content in the
compound source field.</p>
<div class="paragraph">
<p>If necessary, increase or decrease the indexes next to a target field to achieve the desired order.</p>
</div>
</li>
<li>
<p>Optionally, preview the data mapping result:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the toolbar, click
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> to display a text input field on the source
field and read-only result fields on each target field.</p>
</li>
<li>
<p>In the source field&#8217;s data input field, enter text. Be sure to enter
the separator character between the parts of the field. Click outside
the text box to display the mapping result in the read-only fields
on the target fields.</p>
<div class="paragraph">
<p>If you reorder the target fields or add a transformation to a target field
then the result fields on the target fields reflect this. If the data mapper
detects any errors, it displays informative messages at the top of the
<strong>Mapping Details</strong> panel.</p>
</div>
</li>
<li>
<p>Hide the preview fields by clicking <span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> again.</p>
<div class="paragraph">
<p>If you redisplay the preview fields, any data that you entered in them is
still there and it remains there until you exit the data mapper.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To confirm that the mapping is correctly defined, click
<span class="image"><img src="images/GridIcon.png" alt="Grid icon"></span> to display defined mappings.
A mapping that separates the value of a source field into
multiple target fields looks like this:
<span class="image"><img src="images/SeparateMapping.png" alt="Separate mapping"></span>.</p>
<div class="paragraph">
<p>You can also preview mapping results in this view. Click
<span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span> and enter text as described in the previous step.
Preview fields appear for only the selected mapping. Click another
mapping in the table to view preview fields for it.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="mapping-between-collections-and-non-collections">4.6. Mapping between collections and non-collections</h3>
<div class="paragraph">
<p>In the data mapper <strong>Source</strong> and <strong>Target</strong> panels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/CollectionIcon.png" alt="Collection icon"></span>
indicates a collection. If the collection contains one primitive type,
you can map directly from or to that collection. If the collection
contains two or more different types, the data mapper
displays the collection’s child fields and you can map to or from the
collection’s fields.</p>
</li>
<li>
<p><span class="image"><img src="images/FolderIcon.png" alt="Folder icon"></span> indicates an
expandable container that is a complex type. A complex type contains
multiple fields of different types. A field in a complex type can be a
type that is a collection, such as an array. You cannot map a complex
type container itself. You can map only the fields that are in the complex type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To toggle the display of data types, such as <code><strong>(COMPLEX)</strong></code>,
<code><strong>STRING</strong></code>, <code><strong>INTEGER</strong></code>, click <span class="image"><img src="images/ShowTypesIcon.png" alt="Show types icon"></span> in the toolbar.</p>
</div>
<div class="paragraph">
<p>The following table shows the default behavior when mapping
between collection fields and non-collection fields.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">When you map from this source</th>
<th class="tableblock halign-left valign-top">To this target</th>
<th class="tableblock halign-left valign-top">During execution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection. (No child fields appear in the data mapper.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is not in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data mapper maps the value that is in the last element in the source collection to the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is not in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data mapper maps the mapped field&#8217;s value that is in the last element in the source collection to the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is not in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection. (No child fields appear in the data mapper.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data mapper maps the value that is in the mapped source field to the first (and only) element in the collection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is not in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A field that is in a collection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data mapper maps the value that is in the mapped source field to the first (and only) element in the collection.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Changing default behavior when mapping from a collection field</div>
<p>When you map from a collection field to a non-collection
field, the default behavior is that the target field gets its
value from the last element in the source collection.
You can change this default behavior in the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To map from the element that you choose, apply the <strong>Item At</strong>
transformation to the source and specify an
index. For example, to map the
value that is in the first element that is in the collection,
specify <code>0</code> for the index.</p>
</li>
<li>
<p>To map all values that are in
all elements that are in a
source collection, apply the <strong>Concatenate</strong> transformation
to the source collection or source collection field and optionally specify a delimiter.
The default delimiter is a space. For example,
consider this source collection:</p>
<div class="ulist">
<ul>
<li>
<p>In the first element, the value in the <strong>city</strong> field
is <strong>Boston</strong>.</p>
</li>
<li>
<p>In the second element, the value in the <strong>city</strong> field
is <strong>Paris</strong>.</p>
</li>
<li>
<p>In the third element, the value in the <strong>city</strong> field
is <strong>Tokyo</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During execution, the data mapper populates the target
field with <code>Boston Paris Tokyo</code>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Changing default behavior when mapping from a non-collection field</div>
<p>When you map from a non-collection field to a collection
field, the default behavior is that the target collection contains
one element, which contains the non-collection, source field
value. You can change the default behavior
when the source field contains a series of values that are
separated by the same delimiter. For example, consider a
non-collection, source <strong>cities</strong> field that contains:</p>
</div>
<div class="paragraph">
<p><code>Boston Paris Tokyo</code></p>
</div>
<div class="paragraph">
<p>You would map this to a target collection or to a
target field that is in a collection.
On the source <strong>cities</strong> field, add the <strong>Split</strong> transformation.
During execution, the data mapper splits the value of the
<strong>cities</strong> field at the space delimiter. The result is a
collection that contains three elements. In the first
element, the value of the <strong>city</strong> field is <code>Boston</code>. In the
second element, the value of the <strong>city</strong> field is <code>Paris</code>.
In the third element, the value of the <strong>city</strong> field is <code>Tokyo</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="transform-target-data">4.7. Transforming source or target data</h3>
<div class="paragraph">
<p>In the data mapper, after you define a mapping, you can transform
any field in the mapping.
Transforming a data field defines how you want to store the data.
For example, you could specify the <strong>Capitalize</strong> transformation to ensure that the first
letter of a data value is uppercase.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Map the fields. This can be a one-to-one mapping, a combination mapping,
or a separation mapping.</p>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, under <strong>Sources</strong> or under <strong>Targets</strong>,
in the box for the field that you want to transform, click <span class="image"><img src="images/LightningBoltIcon.png" alt="Lightning bolt icon"></span> to the left of the
trash can icon.</p>
<div class="paragraph">
<p><span class="image"><img src="images/Trans1.png" alt="Mapping details transformation button"></span></p>
</div>
<div class="paragraph">
<p>This displays a pull-down where you can select the transformation
that you want the data mapper to perform.  The set of available transformations
is type specific.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/Trans2.png" alt="Mapping details transformation button - available transformations"></span></p>
</div>
</li>
<li>
<p>Click the transformation that you want to perform.</p>
</li>
<li>
<p>Optional. If the transformation requires any input parameters, specify them
in the appropriate input fields.</p>
</li>
<li>
<p>Optional. To add another transformation, click the arrow to the left of the
trash can icon again.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Additional resource</div>
<p><a href="#available-transformations">Descriptions of available transformations</a></p>
</div>
</div>
<div class="sect2">
<h3 id="applying-conditions-to-mappings">4.8. Applying conditions to mappings</h3>
<div class="paragraph">
<p>In some integrations, it is helpful to add conditional
processing to a mapping. For example, suppose that you are
mapping a source zip code field to a target zip code field.
If the source zip code field is empty, you might want to fill
the target field with <code>99999</code>. To do this, you would specify
an expression that tests the zip code source
field to determine if it is empty, and if it is empty,
inserts <code>99999</code> into the zip code target field.</p>
</div>
<div class="paragraph">
<p>The data mapper supports expressions that are similar to a Microsoft
Excel expressions, but does not support all Microsoft Excel expression
syntax.</p>
</div>
<div class="paragraph">
<p>You can define zero or one condition for each mapping.</p>
</div>
<div class="paragraph">
<p>The following procedure gets you started with applying
conditions to mappings. As you work with mappings and
conditions, you can perform the required steps in the
order that is most convenient for you.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are mapping fields in a the data mapper UI.</p>
</li>
<li>
<p>You are familiar with Microsoft Excel expressions or
you have the conditional expression that you want to apply
to a mapping.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>If data types are not already visible, display them by clicking
<span class="image"><img src="images/ShowTypesIcon.png" alt="Show types icon"></span>.</p>
<div class="paragraph">
<p>While this is not a requirement for specifying a condition, it is
helpful to see the data types.</p>
</div>
</li>
<li>
<p>Create the mapping that you want to apply a condition to, or
ensure that the currently selected mapping is the mapping that you
want to apply a condition to. For example, consider this mapping:</p>
<div class="paragraph">
<p><span class="image"><img src="images/first-conditional-mapping.png" alt="lastName and firstName map to customerName"></span></p>
</div>
</li>
<li>
<p>In the upper right, click
<span class="image"><img src="images/add-condition-to-mapping.png" alt="Add expression"></span> to
display the conditional expression input field.</p>
<div class="paragraph">
<p>In the expression field, the data mapper automatically displays
the names of the source fields in the current mapping. For example:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/first-conditional-mapping-expression.png" alt="lastName + firstName"></span></p>
</div>
<div class="paragraph">
<p>In the expression input field, the order of the source fields is the
order in which you selected them when you created the mapping.
This is important because the default mapping behavior is that the
data mapper concatenates the field values in this order to insert
the result in the target field. In this example, to create this
mapping, <code>lastName</code> was selected first and then <code>firstName</code> was selected.</p>
</div>
</li>
<li>
<p>Edit the expression input field to specify the conditional
expression that you want the data mapper to apply to the
mapping. Details about supported conditional expressions follow
this procedure.</p>
<div class="paragraph">
<p>As you specify the expression, you can enter <code>@</code> and start to enter the name of a field.
The data mapper displays a list of the fields that match
what you entered. Select the field that you want to
specify in the expression.</p>
</div>
<div class="paragraph">
<p>When you add a field name to the expression, the data mapper adds
that field to the mapping. For example, consider this conditional
expression:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/second-conditional-mapping-expression.png" alt="if(ISEMPTY(lastName)" width="firstName" height="orderId + phone)"></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>During execution, if the data mapper determines that the <code>lastName</code>
field is empty, it maps only the <code>firstName</code> field to the target
<code>customerName</code> field.  If the <code>lastName</code> field contains a value, that is,
it is not empty, the data mapper concatenates the values in the
source <code>orderId</code> and <code>phone</code> fields, and inserts the result in
the <code>customerName</code> field.
(This example shows how the logic works, but it is probably not a
useful example because when there is a value in the <code>lastName</code> field,
you most likely want the data mapper to simply perform the
mapping and not map some other value into the target.)</p>
</div>
<div class="paragraph">
<p>+
For this example, after you complete entering the expression,
the data mapping is:</p>
</div>
<div class="paragraph">
<p>+
<span class="image"><img src="images/second-conditional-mapping.png" alt="lastName firstName orderId phone are mapped to customerName"></span></p>
</div>
<div class="paragraph">
<p>+
In the conditional expression, if you remove a field name that is in
the mapping that the expression applies to, the data mapper removes that
field from the mapping. In other words, every field name in the mapping
must be in the conditional expression.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If mapping preview fields are not already visible, display them
by clicking <span class="image"><img src="images/ShowMappingPreview.png" alt="Show mapping preview"></span>.</p>
</li>
<li>
<p>Enter sample data in the source preview input field(s)
to ensure that the target field or target fields
get(s) the correct value.</p>
</li>
<li>
<p>Optionally, apply transformations to one or more source or target fields
in the selected mapping by clicking <span class="image"><img src="images/LightningBoltIcon.png" alt="Lightning bolt icon"></span> next to each field to which you want to apply a
transformation and then selecting the desired transformation from the pull-down menu.</p>
<div class="paragraph">
<p>For example, in the same mapping presented in this procedure, in the
<strong>Mapping Details</strong> panel, you could apply the <code>Uppercase</code>
 transformation to the <code>firstName</code> field. You can test this by entering
 data in the <code>firstName</code> field&#8217;s preview input field.</p>
</div>
</li>
<li>
<p>Edit the conditional expression as needed to obtain the desired result.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Supported functions in conditional expressions</div>
<ul>
<li>
<p><code>ISEMPTY(<em>source-field-name1</em> [+ <em>source-field-name2</em>])</code></p>
<div class="paragraph">
<p>The result of the <code>ISEMPTY()</code> function is a Boolean value. Specify at least
one argument, which is the name of a source field in the mapping that
you want to apply the condition to. When the specified source field is empty,
the <code>ISEMPTY()</code> function returns true.</p>
</div>
<div class="paragraph">
<p>Optionally, add the + (concatenation) operator with an additional field, for
example:</p>
</div>
<div class="paragraph">
<p><code>ISEMPTY(lastName + firstName)</code></p>
</div>
<div class="paragraph">
<p>This expression evaluates to true if both source fields,
<code>lastName</code> and <code>firstName</code>, are empty.</p>
</div>
<div class="paragraph">
<p>Often, the <code>ISEMPTY()</code> function is the first argument in an <code>IF()</code> function.</p>
</div>
</li>
<li>
<p><code>IF(<em>boolean-expression</em>, <em>then</em>, <em>else</em>)</code></p>
<div class="paragraph">
<p>When <code><em>boolean-expression</em></code> evaluates to true, the data mapper returns <code><em>then</em></code>.
When <code><em>boolean-expression</em></code> evaluates to false, the data mapper returns <code><em>else</em></code>.
All three arguments are required. The last argument can be null,
which means that nothing is mapped when
<code><em>boolean-expression</em></code> evaluates to false.</p>
</div>
<div class="paragraph">
<p>For example, consider the mapping that combines the <code>lastName</code> and <code>firstName</code>
source fields in the target <code>customerName</code> field. You can specify this
conditional expression:</p>
</div>
<div class="paragraph">
<p><code>IF (ISEMPTY(lastName), firstName, lastName + ‘,’ + firstName )</code></p>
</div>
<div class="paragraph">
<p>During execution, the data mapper evaluates the <code>lastName</code> field.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>lastName</code> field is empty, that is, <code>ISEMPTY(lastName)</code>
returns true, the data mapper inserts only the <code>firstName</code> value into the
target <code>customerName</code> field.</p>
</li>
<li>
<p>If the <code>lastName</code> field contains a value, that is, <code>ISEMPTY(lastName)</code>
returns false, the data mapper maps the <code>lastName</code> value, followed by a comma,
followed by the <code>firstName</code> value into the target <code>customerName</code> field.</p>
<div class="paragraph">
<p>Now consider the behavior if the third argument in this expression is null:</p>
</div>
<div class="paragraph">
<p><code>IF (ISEMPTY(lastName), firstName, null )</code></p>
</div>
<div class="paragraph">
<p>During execution, the data mapper evaluates the <code>lastName</code> field.</p>
</div>
</li>
<li>
<p>As in the previous example, if the <code>lastName</code> field is empty, that is,
<code>ISEMPTY(lastName)</code> returns true, the data mapper inserts only the
<code>firstName</code> value into the target <code>customerName</code> field.</p>
</li>
<li>
<p>However, when the third argument is null, if the <code>lastName</code> field contains
a value, that is, <code>ISEMPTY(lastName)</code> returns false, the data mapper does
not map anything into the target <code>customerName</code> field.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported operators in conditional expressions</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Operator</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add numeric values or concatenate string values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract a numeric value from another numeric value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply numeric values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide numeric values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;&amp;</code><br>
And</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if both the left and right operands are true.
Each operand must return a Boolean value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>||</code><br>
Or</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left operand is true, or if  the right operand is true, or if both operands are true. Each operand must return a Boolean value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code><br>
Greater than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left numeric operand is greater than the right numeric operand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;<br>
Less than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left numeric operand is less than the right numeric operand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code><br>
Equal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left operand and the right operand are the same.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="view-mappings">4.9. Viewing mappings</h3>
<div class="paragraph">
<p>While you are using the data mapper UI, you can view the mappings
that are already defined. This lets you check whether the
correct mappings are in place.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>The data mapper canvas is visible.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the upper right, click <span class="image"><img src="images/GridIcon.png" alt="Grid icon"></span> to display a list of the defined mappings.</p>
</li>
<li>
<p>To dismiss the list of mappings and redisplay the source and
target fields, click <span class="image"><img src="images/ColumnIcon.png" alt="Column icon"></span> again.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="available-transformations">4.10. Descriptions of available transformations</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TODO Generate this list automatically from annotation - <a href="https://github.com/atlasmap/atlasmap/issues/173" class="bare">https://github.com/atlasmap/atlasmap/issues/173</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following table describes the available transformations. The date and
number types refer generically to any of the various forms of these
concepts. That is, number includes, for example, <code>integer</code>, <code>long</code>, <code>double</code>.
Date includes, for example, <code>date</code>, <code>Time</code>, <code>ZonedDateTime</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Transformation</th>
<th class="tableblock halign-left valign-top">Input Type</th>
<th class="tableblock halign-left valign-top">Output Type</th>
<th class="tableblock halign-left valign-top">Parameter (* = required)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AbsoluteValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the absolute value of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AddDays</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add days to a date. The default is 0 days.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AddSeconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add seconds to a date. The default is 0 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Append</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Append a string to the end of a string. The default is to append nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Camelize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a phrase to a camelized string by removing whitespace, making
the first word lowercase, and capitalizing the first letter of each
subsequent word.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Capitalize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capitalize the first character in a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ceiling</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number ceiling of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Contains</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field contains the specified value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertAreaUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code>*</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents an area to another unit. For
the <code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Square Foot</code>, <code>Square Meter</code>, or <code>Square Mile</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertDistanceUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents a distance to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Foot</code>, <code>Inch</code>, <code>Meter</code>, <code>Mile</code>, or <code>Yard</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertMassUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents mass to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Kilogram</code> or <code>Pound</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertVolumeUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents volume to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Cubic Foot</code>, <code>Cubic Meter</code>, <code>Gallon US Fluid</code>, or <code>Liter</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CurrentDate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Note</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CurrentDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current date and time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CurrentTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the current time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DayOfWeek</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the week (1 through 7) that corresponds to the date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DayOfYear</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the year (1 through 366) that corresponds to the date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EndsWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string ends with the specified <code>string</code>, including case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Equals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field is equal to the specified <code>value</code>, including case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FileExtension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From a string that represents a file name, return the file extension
without the dot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Floor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number floor of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In <code>template</code>, replace each placeholder (such as <code>%s</code>) with the value of the
input field and return a string that contains the result. This
is similar to mechanisms that are available in programming languages such
as Java and C.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GenerateUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a string that represents a random UUID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IndexOf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, starting at 0, return the first index of the specified
<code>string</code>. Return <code>-1</code> if it is not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IsNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LastIndexOf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, starting at 0, return the last index of the specified
<code>string</code>. Return <code>-1</code> if it is not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the length of the field, or <code>-1</code> if the field is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Lowercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to lowercase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Normalize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace consecutive whitespace characters with a single space and trim
leading and trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PadStringLeft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>padCharacter</code> *</p>
<p class="tableblock"><code>padCount</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the character supplied in <code>padCharacter</code> at the beginning of a
string. Do this the number of times specified in <code>padCount</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PadStringRight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>padCharacter</code> *</p>
<p class="tableblock"><code>padCount</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the character supplied in <code>padCharacter</code> at the end of a
string. Do this the number of times specified in <code>padCount</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Prepend</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix <code>string</code> to the beginning of a string. the default is to prepend
nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReplaceAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>match</code> *</p>
<p class="tableblock"><code>newString</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, replace all occurrences of the supplied matching string with the
supplied <code>newString</code>. The default <code>newString</code> is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReplaceFirst</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>match</code> *</p>
<p class="tableblock"><code>newString</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, replace the first occurrence of the specified <code>match</code> string
with the specified <code>newString</code>. The default <code>newString</code> is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Round</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the rounded whole number of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SeparateByDash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace each occurrence of whitespace, colon (:), underscore (_),
plus (+), and equals (=) with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SeparateByUnderscore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace each occurrence of whitespace, colon (:), hyphen (-), plus (+),
and equals (=) with an underscore (_).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StartsWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string starts with the specified string (including case).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Substring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve a segment of a string from the specified inclusive <code>startIndex</code> to the
specified exclusive <code>endIndex</code>. Both indexes start at zero. <code>startIndex</code> is
inclusive. <code>endIndex</code> is exclusive. The default value of <code>endIndex</code> is the
length of the string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SubstringAfter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p>
<p class="tableblock"><code>match</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve the segment of a string after the specified <code>match</code> string from the
specified inclusive <code>startIndex</code> to the specified exclusive <code>endIndex</code>.
Both indexes start at zero. The default value of <code>endIndex</code> is the length of the
string after the supplied <code>match</code> string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SubstringBefore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p>
<p class="tableblock"><code>match</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve a segment of a string before the supplied <code>match</code> string
from the supplied inclusive <code>startIndex</code> to the supplied exclusive
<code>endIndex</code>. Both indexes start at zero. The default value of <code>endIndex</code> is the
length of the string before the supplied <code>match</code> string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Trim</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading and trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TrimLeft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TrimRight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uppercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to uppercase.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="creating-a-custom-transformation">4.11. Creating a custom transformation</h3>
<div class="paragraph">
<p>In addition to the built-in transformations, you can define custom field
action transformations. Write custom field actions in Java and then import them
into the AtlasMap data mapper. After it is established in a source or target
panel, the transformation appears
in the list of transformations that are available for any field.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Define a transformation in Java.</p>
<div class="paragraph">
<p>The following custom transformation is applicable to <code>String</code> arguments.
It takes the argument specified in the source panel
transformation and prints it on the target side with the string 'concur-'
and the user-specified concur parameter.
Implement the <code>AtlasFieldAction</code> class as follows:</p>
</div>
<div class="listingblock">
<div class="title">src/main/java/io/atlasmap/maven/test/PaulsFieldActions.java</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package io.atlasmap.maven.test;

import io.atlasmap.spi.AtlasActionProcessor;
import io.atlasmap.spi.AtlasFieldAction;

public class PaulsFieldActions implements AtlasFieldAction {

    @AtlasActionProcessor
    public static String myCustomFieldAction(PaulsFieldActionsModel myCustomFieldAction, String input) {
        return "Paul's custom field action: " + myCustomFieldAction.getPaulsParam() + " payload: " + input;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And also implement a model class <code>PaulsFieldActionsModel</code> - model class can declare transformation parameters as follows:</p>
</div>
<div class="listingblock">
<div class="title">src/main/java/io/atlasmap/maven/test/PaulsFieldActionsModel.java</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package io.atlasmap.maven.test;

import java.io.Serializable;

import com.fasterxml.jackson.annotation.JsonPropertyDescription;

import io.atlasmap.v2.Action;
import io.atlasmap.v2.AtlasActionProperty;
import io.atlasmap.v2.FieldType;

public class PaulsFieldActionsModel extends Action implements Serializable {

    private static final long serialVersionUID = 1L;
    private String paulsParam = "";
    /**
     * Example of a custom field action with a string parameter.
     *
     * @param value
     *     allowed object is
     *     {@link String}
     *
     */
    @JsonPropertyDescription("Paul's custom field action parameter to display")
    @AtlasActionProperty(title = "Paul's custom field action string parameter", type = FieldType.STRING)
    public void setPaulsParam(String value) {
        paulsParam = value;
    }

    public String getPaulsParam() {
        return paulsParam;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Declare for Java service loader</p>
<div class="paragraph">
<p>Then both class needs to be declared in <code>META-INF/services</code> to get them registered through Java service loader.</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/META-INF/services/io.atlasmap.v2.Action</div>
<div class="content">
<pre>io.atlasmap.maven.test.PaulsFieldActionsModel</pre>
</div>
</div>
<div class="listingblock">
<div class="title">src/main/resources/META-INF/services/io.atlasmap.spi.AtlasFieldAction</div>
<div class="content">
<pre>io.atlasmap.maven.test.PaulsFieldActions</pre>
</div>
</div>
</li>
<li>
<p>Build your Java archive file.</p>
<div class="paragraph">
<p>The <code>io.atlasmap.v2</code>, <code>io.atlasmap.api</code> and <code>io.atlasmap.spi</code> target
dependencies are most easily resolved
through the use of a maven <code>pom.xml</code> file.  Use the same version number as
the AtlasMap standalone JAR file that you previously downloaded.</p>
</div>
</li>
<li>
<p>At the top of the AtlasMap main tool bar, click <code>AtlasMap &gt; Import a Java archive (.jar)</code>
to import your Java archive file.</p>
<div class="paragraph">
<p><span class="image"><img src="images/Trans3.png" alt="Import a Java archive"></span></p>
</div>
</li>
<li>
<p>Navigate to the JAR file that contains your custom transformation
and select it.</p>
<div class="paragraph">
<p><span class="image"><img src="images/Trans4.png" alt="Import custom field action JAR"></span></p>
</div>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, in the <strong>Targets</strong> section,
select the transformation pull-down menu to see that your
custom transformation now appears as a selectable
transformation. Select it.</p>
<div class="paragraph">
<p><span class="image"><img src="images/Trans7.png" alt="Import custom field action JAR"></span></p>
</div>
</li>
<li>
<p>To test your custom transformation:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Mapping Details</strong> panel transformation you just added, type the string <code>ball</code> in the <code>Pauls Concur Param</code> input text box.</p>
</li>
<li>
<p>In the AtlasMap main tool bar, click the mapping preview icon.</p>
</li>
<li>
<p>In the <strong>Source</strong> panel input field,
type a string, for example, <code>bat</code>.</p>
</li>
<li>
<p>Notice the same string in the
<strong>Preview Results</strong> field in the target panel with <code>concur-ball</code> prepended.</p>
<div class="paragraph">
<p><span class="image"><img src="images/Trans9.png" alt="Import custom field action JAR"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When you run the mapping with custom transformation, Java classes and service declaration files you created above have to be put into classpath. Although uploaded jar file are stored in .adm file, those are only used to load mapping definition in the UI, but not at runtime.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exporting-mappings-to-an-adm-archive-file">5. Exporting mappings to an ADM archive file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After all mappings are defined, save the mappings by exporting
them to an ADM archive file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>AtlasMap</strong> menu and select <strong>Export the current mappings and support files into a catalog (.adm)</strong></p>
<div class="paragraph">
<p><span class="image"><img src="images/AtlasMapMenu.png" alt="AtlasMap menu"></span>.</p>
</div>
</li>
<li>
<p>In the <strong>Export mappings</strong> field, accept the default name or enter
a name for the exported <code>.adm</code> file. The default name is <code>atlasmap-mapping.adm</code>.</p>
</li>
<li>
<p>Click <strong>OK</strong>.</p>
<div class="paragraph">
<p>The catalog will be saved in your <strong>Downloads</strong> folder.</p>
</div>
</li>
<li>
<p>Note, you can later import the .adm file by using the <strong>AtlasMap</strong> menu.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resetting-data-files-in-atlasmap">6. Resetting data files in AtlasMap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Initially, AtlasMap displays a blank canvas. You must import at least
one data file into the <strong>Source</strong> panel and at least one data file into
the <strong>Target</strong> panel. You can then map fields.</p>
</div>
<div class="paragraph">
<p>After you import a data file, you can remove it from the data mapper
canvas by clicking the trash icon, as in the following image:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/Reset1.png" alt="Remove the specified file"></span></p>
</div>
<div class="paragraph">
<p>To remove all imported files, as well as all data mappings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>AtlasMap</strong> menu.</p>
</li>
<li>
<p>In the pop-up menu, select <strong>Reset all mappings and clear all imported documents</strong>.</p>
</li>
<li>
<p>In the confirmation dialog, click <strong>Confirm</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>AtlasMap displays a blank canvas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-atlasmap-with-apache-camel">7. Running AtlasMap with Apache Camel</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The latest version of <code>camel-atlasmap</code> component is now maintained in Apache Camel upstream
<a href="https://camel.apache.org/components/latest/atlasmap-component.html" class="bare">https://camel.apache.org/components/latest/atlasmap-component.html</a></p>
</div>
<div class="paragraph">
<p>We will keep maintaining Camel2 version of <code>camel-atlasmap</code> component in this repository for a while, however for Camel3 you need to go with the one from Apache Camel upstream.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Camel Quarkus extension for AtlasMap is available here
<a href="https://camel.apache.org/camel-quarkus/latest/reference/extensions/atlasmap.html" class="bare">https://camel.apache.org/camel-quarkus/latest/reference/extensions/atlasmap.html</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Developers who are familiar with Apache Camel can implement a
Camel application that uses the <code>camel-atlasmap</code> component.
A <code>camel-atlasmap</code> endpoint</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Can consume an AtlasMap <code>.adm</code> file</p>
</li>
<li>
<p>Uses the content of <code>body</code> as the default source document for mappings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>from("direct:start")
   .to("atlas:atlas-mapping.adm")
   .log("${body}")</pre>
</div>
</div>
<div class="paragraph">
<p>If  <code>body</code> contains a <code>java.util.Map</code> object, then <code>camel-atlasmap</code>
uses <code>key</code> as a document ID and the corresponding value as the
document payload.</p>
</div>
<div class="paragraph">
<p>You can obtain the <code>camel-atlasmap</code> component here:
<a href="https://repo1.maven.org/maven2/io/atlasmap/camel-atlasmap/$2.4.0-SNAPSHOT/camel-atlasmap-$2.4.0-SNAPSHOT.jar" class="bare">https://repo1.maven.org/maven2/io/atlasmap/camel-atlasmap/$2.4.0-SNAPSHOT/camel-atlasmap-$2.4.0-SNAPSHOT.jar</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="atlasmap-runtime-examples">8. AtlasMap Runtime Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="using-atlasmap-api">8.1. Using AtlasMap API</h3>
<div class="sect3">
<h4 id="atlasmap-runtime-api-example">8.1.1. AtlasMap runtime API example</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/atlasmap-example-api" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/atlasmap-example-api</a></p>
</div>
<div class="paragraph">
<p>This is a small example of running AtlasMap mapping by interacting with
runtime API directly. It consumes <code>order.json</code> JSON file, process
mapping and produce XML output. The output XML is simply printed in
console.</p>
</div>
<div class="paragraph">
<p>Compile and run an example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>../../mvnw clean package exec:java</pre>
</div>
</div>
<div class="paragraph">
<p>Then generated XML output is printed in console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">Target Document:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;ns:XmlOE xmlns:ns="http://atlasmap.io/xml/test/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;ns:Address&gt;
    &lt;ns:addressLine1&gt;1040 Notexisting St&lt;/ns:addressLine1&gt;
    &lt;ns:city&gt;Westford&lt;/ns:city&gt;
    &lt;ns:state&gt;Massachusetts&lt;/ns:state&gt;
    &lt;ns:zipCode&gt;01886&lt;/ns:zipCode&gt;
  &lt;/ns:Address&gt;
  &lt;ns:Contact&gt;
    &lt;ns:firstName&gt;Bob&lt;/ns:firstName&gt;
    &lt;ns:lastName&gt;Totton&lt;/ns:lastName&gt;
    &lt;ns:phoneNumber&gt;123-456-7890&lt;/ns:phoneNumber&gt;
    &lt;ns:zipCode&gt;01886&lt;/ns:zipCode&gt;
  &lt;/ns:Contact&gt;
  &lt;ns:orderId&gt;O001&lt;/ns:orderId&gt;
&lt;/ns:XmlOE&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-runtime-api-with-adm-archive-file-example">8.1.2. AtlasMap runtime API with ADM archive file example</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/atlasmap-example-api-adm" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/atlasmap-example-api-adm</a></p>
</div>
<div class="paragraph">
<p>This is a small example of running AtlasMap mapping by interacting with
runtime API directly. This example uses an ADM archive file to load a
mapping definition from. It consumes <code>order.json</code> JSON file, process
mapping and produce XML output. The output XML is simply printed in
console.</p>
</div>
<div class="paragraph">
<p>Compile and run an example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>../../mvnw clean package exec:java</pre>
</div>
</div>
<div class="paragraph">
<p>Then generated XML output is printed in console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">Target Document:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;ns:XmlOE xmlns:ns="http://atlasmap.io/xml/test/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;ns:Address&gt;
    &lt;ns:addressLine1&gt;1040 Notexisting St&lt;/ns:addressLine1&gt;
    &lt;ns:city&gt;Westford&lt;/ns:city&gt;
    &lt;ns:state&gt;Massachusetts&lt;/ns:state&gt;
    &lt;ns:zipCode&gt;01886&lt;/ns:zipCode&gt;
  &lt;/ns:Address&gt;
  &lt;ns:Contact&gt;
    &lt;ns:firstName&gt;Bob&lt;/ns:firstName&gt;
    &lt;ns:lastName&gt;Totton&lt;/ns:lastName&gt;
    &lt;ns:phoneNumber&gt;123-456-7890&lt;/ns:phoneNumber&gt;
    &lt;ns:zipCode&gt;01886&lt;/ns:zipCode&gt;
  &lt;/ns:Contact&gt;
  &lt;ns:orderId&gt;O001&lt;/ns:orderId&gt;
&lt;/ns:XmlOE&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-with-apache-camel-2-x">8.2. Running with Apache Camel 2.x</h3>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel2">8.2.1. AtlasMap running with Apache Camel2</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/camel-example-atlasmap" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/camel-example-atlasmap</a></p>
</div>
<div class="sect4">
<h5 id="introduction-2">Introduction</h5>
<div class="paragraph">
<p>This example shows how to work with AtlasMap Data Mapper running as a
part of Camel route.</p>
</div>
</div>
<div class="sect4">
<h5 id="build">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel2-blueprint-xml">8.2.2. AtlasMap running with Apache Camel2 :: Blueprint XML</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/camel-example-atlasmap-blueprint" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/camel-example-atlasmap-blueprint</a></p>
</div>
<div class="sect4">
<h5 id="introduction-3">Introduction</h5>
<div class="paragraph">
<p>This example shows how to work with AtlasMap Data Mapper running as a
part of Camel route.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-2">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-without-container">Run without container</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
<div class="sect4">
<h5 id="run-on-karaf-container">Run on karaf container</h5>
<div class="paragraph">
<p>To run the example on the karaf container</p>
</div>
<div class="sect5">
<h6 id="step-1-start-karaf-container">Step 1: Start karaf container</h6>
<div class="literalblock">
<div class="content">
<pre>karaf / karaf.bat</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="step-2-deploy">Step 2: Deploy</h6>
<div class="literalblock">
<div class="content">
<pre>feature:repo-add mvn:io.atlasmap.examples/camel-example-atlasmap-blueprint/${VERSION}/xml/features
feature:install camel-example-atlasmap-blueprint</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="step-3-check-the-output">Step 3: Check the output</h6>
<div class="paragraph">
<p>You will see the output by log:tail or in ${karaf}/data/karaf.log</p>
</div>
<div class="paragraph">
<p>You can see the routing rules by looking at the Blueprint XML
configuration lives in <code>src/main/resources/OSGI-INF/blueprint</code></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel2-message-map">8.2.3. AtlasMap running with Apache Camel2 :: Message Map</h4>
<div class="sect4">
<h5 id="introduction-4">Introduction</h5>
<div class="paragraph">
<p>This example shows how to perform data mapping from multiple source
Documents and corresponding headers stored in Message Map with using
AtlasMap Data Mapper running as a part of Camel route. AtlasMap expects
Message Map to hold Camel Message with a Document ID as a key. The
Message headers are handled as a scoped property where Document ID is
equal to the scope. Syndesis provides this message mapping feature
internally so that the Data Mapper step can consume multiple source
Messages as well as headers. In this example, <code>MessageCaptureProcessor</code>
does that part of managing Message Map.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-3">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-2">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel-multiple-source-documents">8.2.4. AtlasMap running with Apache Camel :: Multiple source Documents</h4>
<div class="sect4">
<h5 id="introduction-5">Introduction</h5>
<div class="paragraph">
<p>This example shows how to perform data mapping from multiple source
Documents with using AtlasMap Data Mapper running as a part of Camel
route.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-4">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-3">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-with-apache-camel-3-x">8.3. Running with Apache Camel 3.x</h3>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel-3">8.3.1. AtlasMap running with Apache Camel 3</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap</a></p>
</div>
<div class="sect4">
<h5 id="introduction-6">Introduction</h5>
<div class="paragraph">
<p>This example shows how to work with AtlasMap Data Mapper running as a
part of Camel route.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-5">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-4">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel3-message-map">8.3.2. AtlasMap running with Apache Camel3 :: Message Map</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap-msgmap" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap-msgmap</a></p>
</div>
<div class="sect4">
<h5 id="introduction-7">Introduction</h5>
<div class="paragraph">
<p>This example shows how to perform data mapping from multiple source
Documents and corresponding headers stored in Message Map with using
AtlasMap Data Mapper running as a part of Camel route. AtlasMap expects
Message Map to hold Camel Message with a Document ID as a key. The
Message headers are handled as a scoped property where Document ID is
equal to the scope. Syndesis provides this message mapping feature
internally so that the Data Mapper step can consume multiple source
Messages as well as headers. In this example, <code>MessageCaptureProcessor</code>
does that part of managing Message Map.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-6">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-5">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atlasmap-running-with-apache-camel3-multiple-source-documents">8.3.3. AtlasMap running with Apache Camel3 :: Multiple source Documents</h4>
<div class="paragraph">
<p><a href="https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap-multidoc" class="bare">https://github.com/atlasmap/atlasmap/tree/main/examples/camel3/camel-example-atlasmap-multidoc</a></p>
</div>
<div class="sect4">
<h5 id="introduction-8">Introduction</h5>
<div class="paragraph">
<p>This example shows how to perform data mapping from multiple source
Documents with using AtlasMap Data Mapper running as a part of Camel
route.</p>
</div>
</div>
<div class="sect4">
<h5 id="build-7">Build</h5>
<div class="paragraph">
<p>You will need to compile this example first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn compile</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="run-6">Run</h5>
<div class="paragraph">
<p>To run the example, type</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn camel:run</pre>
</div>
</div>
<div class="paragraph">
<p>To stop the example hit ctrl+c.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.4.0-SNAPSHOT<br>
Last updated 2022-02-13 18:20:54 UTC
</div>
</div>
</body>
</html>